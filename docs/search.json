[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Global Fishing Watch documentation",
    "section": "",
    "text": "Welcome!\nThis book includes the primary documentation of Global Fishing Watch’s data and infrastructure. It outlines how data are processed, where data are located, and the key data products (e.g. fishing effort, encounters, ports, etc.) and how/when to use the associated BigQuery tables.\nGFW uses data from various sources, including AIS, VMS, vessel registries, SAR, and VIIRS. These data are processed by GFW’s automated pipelines. These raw and processed data are stored as tables and organized in a handful of key BigQuery datasets.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "index.html#data-updates",
    "href": "index.html#data-updates",
    "title": "Global Fishing Watch documentation",
    "section": "Data Updates",
    "text": "Data Updates\nCheck the Data updates for new changes to GFW data.\nSee the BigQuery Table Reference for checking the latest version of key tables to use.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "index.html#bigquery-key-concepts",
    "href": "index.html#bigquery-key-concepts",
    "title": "Global Fishing Watch documentation",
    "section": "BigQuery Key Concepts",
    "text": "BigQuery Key Concepts\nRead the BigQuery Key Concepts page for important things to understand when working with GFW data in BigQuery, including BigQuery best practices.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "index.html#data-products",
    "href": "index.html#data-products",
    "title": "Global Fishing Watch documentation",
    "section": "Data Products",
    "text": "Data Products\nGFW data are grouped into the following general categories, or data products, that are used for various analyses.\n\nFishing effort and vessel presences - Activity and fishing activity for all vessels\nFishing events - Activity by the world’s fishing vessels grouped into events\nVessel database and Vessel info tables - Database of vessel identity\nEncounters - Encounters between two vessels\nLoitering - Loitering events by potential transshipment vessels\nAnchorages & voyages - Database of ports and vessel voyages between ports\nCountry VMS - Country-specific VMS data\nSAR Detections - Vessel detection from Sentinel-1 SAR imagery\nAIS Gaps - Dataset of all 6+ hour gaps in AIS signal by MMSI for all vessels.",
    "crumbs": [
      "Welcome!"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html",
    "href": "files/bigquery-datasets.html",
    "title": "1  BigQuery Datasets",
    "section": "",
    "text": "1.1 Staging Process\nDescription: In an effort to delineate new versions of datasets with those that are used in production we are currently developing a new staging process. **\nDetails: The staging process includes the following:",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html#staging-process",
    "href": "files/bigquery-datasets.html#staging-process",
    "title": "1  BigQuery Datasets",
    "section": "",
    "text": "Proof-of-Concept data:\n\n\nInternal only and selected research partners\nOne-off or manually updated tables\nManual QA\nStored in scratch, project specific, or gfw_research datasets\n\n\nPrototype data:\n\n\nIntermediate and Prototype tables\nAutomated data runs (updated daily)\nSemi-automated QA\nPrototype tables should use convention of proto_\nCan be used by researchers and analysts but proceed knowing that although QA’d all bugs may not have been solved\nBasic documentation will exist for these datasets\nStored in pipeline datasets (e.g. pipe_ais_v3_published) with the proto_ prefix.\n\n\nProduction data:\n\n\nProduction level ready datasets\nPublic/research partners\nAutomated_QA\nWhen proto_ tables have been used and QA’d for a given period of time, have finalized documentation, and automated QA metrics they are considered production data and the proto_ prefix is dropped.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html#ais-pipe-3",
    "href": "files/bigquery-datasets.html#ais-pipe-3",
    "title": "1  BigQuery Datasets",
    "section": "1.2 AIS PIPE-3",
    "text": "1.2 AIS PIPE-3\nThe dataset structure was entirely revamped in PIPE-3 and simplified by generating all AIS tables in two datasets.\n\n1.2.1 pipe_ais_v3_internal\n\nDescription: This dataset contains all intermediate tables that are generated by the AIS pipeline. These tables are used to generate the final tables in pipe_ais_v3_published. The tables in this dataset are not intended to be shared outside of GFW and usage within GFW should be limited to those who are working on the pipeline.\nWhen to use: Only use this dataset if you are working on the AIS pipeline, e.g. as a researcher or data engineer. The intermediate tables in this dataset can also be used for debugging purposes.\n\n\n\n1.2.2 pipe_ais_v3_published\n\nDescription: This dataset contains the final output from the AIS pipeline. The tables in this dataset are intended to be shared with GFW partners and the public.\nWhen to use: This dataset is the primary dataset to use for AIS-based analyses by GFW staff and external users.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html#non-ais-pipelines",
    "href": "files/bigquery-datasets.html#non-ais-pipelines",
    "title": "1  BigQuery Datasets",
    "section": "1.3 Non-AIS Pipelines",
    "text": "1.3 Non-AIS Pipelines\nBesides AIS, we have a number of other pipelines that currently follow the same structure as the AIS pipeline:\n\nSentinel-1: pipe_sar_v1_internal and pipe_sar_v1_published\nSentinel-2: TBD (currently under development)\nVMS: pipe_vms_v3_internal and pipe_vms_v3_published",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html#development-datasets",
    "href": "files/bigquery-datasets.html#development-datasets",
    "title": "1  BigQuery Datasets",
    "section": "1.4 Development Datasets",
    "text": "1.4 Development Datasets\n\n1.4.1 gfw_research\n\nDescription: This dataset is intended as a general location to store proof-of-concept (PoC) tables developed by the Research Team that have not yet been incorporated into an automated pipeline. Many PoC tables originate in specific project datasets (e.g. prj_vessel_classification) but not all users have access to all project datasets. Once a PoC has reached a level of stability, it can be copied to gfw_research to facilitate access, as most GFW users and research partners have access to gfw_research. This dataset also includes various reference tables useful for analysis (e.g. EEZ info, flags of convenience, country codes, ice masks, etc.).\n\nA related dataset to gfw_research is the gfw_research_precursors dataset. Like the _internal datasets described above, gfw_research_precursors is intended simply as a storage location for intermediate tables that are generally not required for analysis.\n\nWhen to use: Look to this dataset when interested in accessing the latest stable versions of PoC tables being developed by the Research Team.\n\n\n\n1.4.2 scratch_[GFW_USERNAME]_ttl[x]\n\nDescription: Each GFW user has their own “scratch” dataset for development and testing. Tables in these datasets are assigned a “time to live” (ttl) and get deleted after a certain amount of days, so for long-term projects you should create new project-specific datasets.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/bigquery-datasets.html#other-relevant-datasets",
    "href": "files/bigquery-datasets.html#other-relevant-datasets",
    "title": "1  BigQuery Datasets",
    "section": "1.5 Other Relevant Datasets",
    "text": "1.5 Other Relevant Datasets\n\n1.5.1 pipe_ais_sources_v20201001 and pipe_ais_sources_v20220628\nThese two datasets contain the raw AIS data that is used to run any AIS pipeline. The only processing that has been applied to tables in these datasets is: 1. parsing (decoding) of raw nmea data; and 2. normalization of the data to a common schema as well as deduplication of messages from different data providers.\nHistorically, they have not been part of the AIS pipeline itself since they are usually not being regenerated upon a new AIS pipeline release.\n\n\n1.5.2 anchorages\nThe anchorages pipeline generates tables based on AIS data as well as static datasources of anchorages and their names. This dataset is used across different pipelines, like AIS and VMS.\n\n\n1.5.3 pipe_static\nThis dataset contains static tables that are being generated based on static data sources. This data is being used across most pipelines to add geographical information like distance from shore or depth. WARNING: for some tables it is unclear what the underlying data source is!\n\n\n1.5.4 pipe_regions_layers\nThis dataset contains region lookup tables that define the shape of each region. Those are occasionally updated due to corrections, regional disputes, and new or shifting regions. Like the static tables, this dataset is used across most pipelines to provide information in which regions a certain coordinate is located.\n\n\n1.5.5 tech_dq_monitoring and tech_anomaly_detection\nThese two datasets contain tables that are used to monitor the data quality of all GFW data. The data may be used for debugging or adhoc analyses but since their primary purpose is to power dashboards and anomaly alerts the data does not follow the same reliability standards we have for other pipelines. Therefore, data might be outdated or unavailable at times.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>BigQuery Datasets</span>"
    ]
  },
  {
    "objectID": "files/pipeline.html",
    "href": "files/pipeline.html",
    "title": "2  GFW Pipelines",
    "section": "",
    "text": "2.1 Vessel tracking pipelines",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>GFW Pipelines</span>"
    ]
  },
  {
    "objectID": "files/pipeline.html#vessel-tracking-pipelines",
    "href": "files/pipeline.html#vessel-tracking-pipelines",
    "title": "2  GFW Pipelines",
    "section": "",
    "text": "2.1.1 AIS pipeline\nThe AIS pipeline is GFW’s primary data pipeline and includes the following processes:\n\nNormalize and combine raw AIS data from multiple providers\nRemove noise and group positions into segments (e.g. the “segmenter”)\nPredict which positions are likely fishing positions (e.g. the GFW fishing model)\nDetect vessel events (e.g. transshipment, port visits, fishing, AIS gaps, etc.)\nSummarize vessel identity from AIS data and link to vessel identity information from vessel registries\n\nAIS data tables and AIS event tables produced by a given version of the AIS pipeline are stored within several BigQuery dataset - pipe_ais_v3_published and pipe_ais_v3_internal.\nAIS data tables produced by the AIS pipeline contain a version or summary of the entire AIS dataset. The first type of AIS data tables are those that contain individual AIS position data output during various steps in the pipeline. Because raw AIS data tables contain all AIS positions, they are extremely large tables and expensive to query. However, AIS messages are often broadcast every few seconds, which is much finer temporal resolution than needed for most research and analysis work. For this reason, intermediate AIS positions tables are stored in the pipe_ais_v3_internal dataset and only the final AIS position table (messages), which has been thinned to one position per minute per segment, is stored within pipe_ais_v3_published dataset. This pipe_ais_v3_internal.messages table is the primary table for research, analysis, and products.\nThe other group of AIS data tables include tables that summarize the complete AIS data by segment or vessel identity. These tables may be further organized into daily date sharded tables and overall tables. Daily summary tables are considered “static”, meaning their data is fixed, while overall summary tables are considered dynamic because their data is subject to change over time as new data are incorporated.\n\n2.1.1.1 AIS event tables\nThe AIS pipeline includes a series of algorithms that identify certain vessel behaviors, referred to as events:\n[update links to relative links within the repo]\n\nEncounters\nLoitering\nPort visits and voyages\nFishing events\nAIS gaps and disabling\n\n\n\n\n2.1.2 VMS pipeline\nGFW also creates individual VMS pipelines to process national VMS data. The VMS pipelines are very similar to the AIS pipeline and output many of the same position and event tables as the AIS pipeline into separate datasets named pipe_[country]_production_vYYYYMMDD.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>GFW Pipelines</span>"
    ]
  },
  {
    "objectID": "files/pipeline.html#vessel-identity-pipeline",
    "href": "files/pipeline.html#vessel-identity-pipeline",
    "title": "2  GFW Pipelines",
    "section": "2.2 Vessel identity pipeline",
    "text": "2.2 Vessel identity pipeline",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>GFW Pipelines</span>"
    ]
  },
  {
    "objectID": "files/pipeline.html#object-detection-pipelines",
    "href": "files/pipeline.html#object-detection-pipelines",
    "title": "2  GFW Pipelines",
    "section": "2.3 Object detection pipelines",
    "text": "2.3 Object detection pipelines",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>GFW Pipelines</span>"
    ]
  },
  {
    "objectID": "files/bigquery-pipe3-table-reference.html",
    "href": "files/bigquery-pipe3-table-reference.html",
    "title": "3  BigQuery Pipe 3 Table",
    "section": "",
    "text": "This page contains the published tables of AIS Pipeline 3 pipe_ais_v3_published. and their previous names in the AIS Pipeline 2.5 pipe_production_v20201001. If you do NOT see a table listed below it has either been archived or placed in the internal bucket within BQ. This page does NOT contain the description of the internal tables of AIS Pipeline 3 pipe_ais_v3_internal. Please contact the engineers and pipeline manager if you request to use an internal table for your work.\nTable Development:\n\nAndres Arana: lead engineer\nMatias Piano: core engineer\nJenn Van Osdel: Researcher lead - Identity and Review of Segmenter\nTim Hochberg: Researcher lead - Segmenter\nChris Homberg: QA Analyst\nHannah Linder: AIS Pipeline Manager\n\nData pipeline ownership falls with the pipeline engineering team, currently Andres Arana and Matias Piano. This means they operate, maintain, develop and deprecate the core pipeline data outputs. The naming, security, versioning control of these tables is decided upon across all engineers, Pipeline Manager, and CTO. Development of the pipeline logic and methodology was originally created outside of the pipeline team that developed Pipeline 3. In the future the pipeline methodology is developed by partnership between the Research team and Engineering team.\n\nAIS Pipe 3 – Published\n\n\n\n\n\n\n\n\nDescription\nBQ Table\nPrevious BQ Table\n\n\n\n\nAIS pipeline dataset to use\npipe_ais_v3\npipe_production_v20201001\n\n\nSummary of AIS information on a segment level, includes ssvid and vessel id\npipe_ais_v3_published.segment_info\npipe_production_v20201001.segment_info\n\n\nAggregated vessel identity information by vessel id and ssvid\npipe_ais_v3_published.vessel_info\npipe_production_v20201001.vessel_info\n\n\nEncounter events\npipe_ais_v3_published.encounters\npipe_production_v20201001.encounters\n\n\nEncounter events used in products (adjustment to schema and additional fields compared to encounters)\npipe_ais_v3_published.product_events_encounter_v\npipe_production_v20201001.published_events_encounters_v\n\n\nLoitering events\npipe_ais_v3_published.loitering\npipe_production_v20201001.loitering\n\n\nLoitering events used in products (adjustment to schema and additional fields compared to encounters)\npipe_ais_v3_published.product_events_loitering_v\npipe_production_v20201001.published_events_loitering_v\n\n\nFishing events (consistent list of fishing vessels in previous versions)\npipe_ais_v3_published.fishing_events_v\npipe_production_v20201001.published_events_fishing\n\n\nFishing events updated in product to restrict to only prod_shiptype = ‘fishing’\npipe_ais_v3_published.product_events_fishing_v\n–Same Table not Previously Developed—-\n\n\nPort visits by vessels\npipe_ais_v3_published.port_visits\npipe_production_v20201001.proto_port_visits\n\n\nPort visits by vessels used in products (adjustment to schema and additional fields compared to port visits\npipe_ais_v3_published.product_events_port_visit_v\npipe_production_v20201001.published_events_port_visits_v\n\n\nConfidence 3 vessel voyages\npipe_ais_v3_published.voyages_c3\npipe_production_v20201001.proto_voyages_c3\n\n\nConfidence 4 vessel voyages\npipe_ais_v3_published.voyages_c4\npipe_production_v20201001.proto_voyages_c4\n\n\nVessel database (registry) table aggregated authorization records\npipe_ais_v3_published.identity_authorization_v\nvessel_identity.identity_authorization_v\n\n\nVessel database (registry) table aggregated owner records\npipe_ais_v3_published.identity_owner_v\nvessel_identity.identity_owner_v\n\n\nVessel database (registry) table core identity matched\npipe_ais_v3_published.identity_core_v\nvessel_identity.identity_core_v\n\n\nMerged identity and class summary table used in products\npipe_ais_v3_published.product_vessel_info_summary\npipe_production_v20201001.all_vessels_byyear_v2_v\n\n\nVessel identity match between pipe vessel info and registry table\npipe_ais_v3_published.product_vessel_info_match\npipe_production_v20201001.base_vessel_identity_info_match_v\n\n\nAggregated vessel classification and activity summaries across all time by ssvid\npipe_ais_v3_published.vi_ssvid_v\npipe_production_v20201001.vi_ssvid_v\n\n\nAggregated vessel classification and activity summaries (difference from vi_ssvid_v is AIS based summaries by year) by ssvid\npipe_ais_v3_published.vi_ssvid_byyear_v\npipe_production_v20201001.vi_ssvid_byyear_v\n\n\nPrototype gaps\npipe_ais_v3_published.product_events_ais_gaps\npipe_production_v20201001.proto_ais_gap_events\n\n\nPrototype disabling events\npipe_ais_v3_published.product_events_ais_disabling\npipe_production_v20201001.proto_published_events_ais_gaps\n\n\nSatellite timing offsets\npipe_ais_v3_published.satellite_timing_offsets\npipe_production_v20201001.research_satellite_timing\n\n\nAIS activity aggregated at the segment level with noise indicators\npipe_ais_v3_published.segs_activity\npipe_production_v20201001.research_segs\n\n\nAIS activity aggregated at the daily segment level with noise indicators\npipe_ais_v3_published.segs_activity_daily\npipe_production_v20201001.research_segs_daily\n\n\nAggregated raw AIS identity information by ssvid\npipe_ais_v3_published.ssvids_identities\npipe_production_v20201001.research_ids\n\n\nDaily raw AIS identity information by ssvid\npipe_ais_v3_published.ssvids_identities_daily\npipe_production_v20201001.research_ids_daily\n\n\nStats on AIS data daily\npipe_ais_v3_published.stats_daily\npipe_production_v20201001.research_stats",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>BigQuery Pipe 3 Table</span>"
    ]
  },
  {
    "objectID": "files/bigquery-pipe2.5-table-reference.html",
    "href": "files/bigquery-pipe2.5-table-reference.html",
    "title": "4  BigQuery Pipe 2.5 Table",
    "section": "",
    "text": "This page contains the list and location of the most current BigQuery datasets and tables for the various GFW data products. The BQ tables in the below table are the default tables to be used when starting a new analysis.\nLast update: * Date: 2022-08-19 * By: Tyler Clavelle\n\n\n\nSubject\nDescription\nBQ Dataset\nBQ Table\nPipeline version\nOwner\n\n\n\n\nAIS\nAIS pipeline dataset to use\npipe_production_v20201001\n\n2.5\nAndres\n\n\nAIS\nAIS position table (all messages)\npipe_production_v20201001\nmessages_scored_\n2.5\nAndres\n\n\nAIS\nAIS position table (thinned)\npipe_production_v20201001\nresearch_messages\n2.5\nTyler\n\n\nVessel identity\nVessel registry database\nvessel_database\nall_vessels_vYYYYMMDD\n2.5\nJaeyoon\n\n\nVessel identity\nVessel info tables\ngfw_research\nvi_ssvid_[byyear]_vYYYYMMDD\n2.5\nTyler\n\n\nVessel identity\nAnnual fishing vessel list\ngfw_research\nfishing_vessels_ssvid_vYYYYMMDD\n2.5\nTyler\n\n\nVessel identity\nAnnual carrier vessel list\nvessel_database\ncarrier_vessels_byyear_v20220101\n2.5\nJaeyoon\n\n\nEncounters\nEncounter events no speed restrictions\npipe_production_v20201001\nencounters\n2.5\nNate\n\n\nEncounters\nEncounter events in Published format for Products\npipe_production_v20201001\npublished_events_encounters\n2.5\nNate\n\n\nLoitering\nLoitering events\npipe_production_v20201001\nloitering published_events_loitering\n2.5\nPete\n\n\nLoitering\nLoitering events in Published format for Products\npipe_production_v20201001\npublished_events_loitering\n2.5\nHannah\n\n\nPorts\nAnchorage locations\nanchorages\nnamed_anchorages_v20211026\n2.5\nNate\n\n\nPorts\nIndividual port events (entry, start, gap, stop, exit)\npipe_production_v20201001\nproto_raw_port_events_*\n2.5\nTim H\n\n\nPorts\nArchived original individual port events (entry, start, gap, stop, exit)\npipe_production_v20201001\narchive_20201001_port_events_*\n2.5\nTim H\n\n\nPorts\nPort visits (grouped port events)\npipe_production_v20201001\nproto_port_visits\n2.5\nTim H\n\n\nPorts\nPort visits (grouped port events) in Published format for Products\npipe_production_v20201001\npublished_events_port_visits\n2.5\nHannah\n\n\nPorts\nPrevious version of Port visits version (grouped port events)\npipe_production_v20201001\nport_visits_\n2.5\nTim H\n\n\nPorts\nVessel voyages between anchorages\npipe_production_v20201001\nproto_voyages_c2 proto_voyages_c3 proto_voyages_c4\n2.5\nTim H\n\n\nPorts\nPrevious version of Vessel voyages between anchorages\npipe_production_v20201001\nvoyages\n2.5\nTim H\n\n\nVIIRS\nVIIRS vessel detections\npipe_viirs_production_v20220112\nraw_vbd_global raw_vbd_global_without_noise\n\nMasaki\n\n\nVIIRS\nVIIRS vessel detections that matched/unmatched with AIS/VMS\npipe_production_v20201001\nproto_matches_raw_vbd_global_3top_v20210514\n2.5\nMasaki\n\n\nAIS gaps\nAIS gaps and suspected disabling events\npipe_production_v20201001\nproto_ais_gap_events\n2.5\nTyler\n\n\nAIS offsetting\nAIS offsetting by seg_id\ngfw_research_precursors\noffsetting_year_seg_v20220609\n2.5\nPete\n\n\nVMS\nPeru VMS\npipe_peru_production_v20211126\n\n2.5\nAndres\n\n\nVMS\nPanama VMS\npipe_panama_production_v20211126\n\n2.5\nAndres\n\n\nVMS\nChile VMS\npipe_chile_production_v20211126\n\n2.5\nAndres\n\n\nVMS\nIndonesia VMS\npipe_indonesia_production_v20200320\n\n2.5\nAndres\n\n\nVMS\nBrazil VMS\npipe_brazil_production_v20211126\n\n2.5\nClaudino\n\n\nVMS\nMexico VMS\npipe_mexico_oceana_production_v20210811\n\n2.5\nAndres\n\n\nVMS\nCosta Rica VMS\npipe_costarica_production_v20211126\n\n2.5\nAndres\n\n\nVMS\nEcuador VMS\npipe_ecuador_production_v20211126\n\n2.5\nAndres\n\n\nVMS\nBelize VMS\npipe_belize_production_v20220304\n\n2.5\nMatias",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>BigQuery Pipe 2.5 Table</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html",
    "href": "files/bigquery-key-concepts.html",
    "title": "5  BigQuery Key Concepts",
    "section": "",
    "text": "5.1 BigQuery access and billing",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#bigquery-access-and-billing",
    "href": "files/bigquery-key-concepts.html#bigquery-access-and-billing",
    "title": "5  BigQuery Key Concepts",
    "section": "",
    "text": "5.1.1 Access\nWorking in BigQuery requires two forms of access:\n\nGoogle Cloud billing project: Using BigQuery incurs costs and BigQuery requires users be connected to a GCP billing project before running queries.\n\nThe enabled billing project will be listed in the top menu bar of the BigQuery console\nThe billing project for GFW staff is gfw-google\nResearch partners cannot be added to gfw-google and must create their own GCP billing project. GFW can help with this process and partners can generally receive ~$5,000 in free Google Credits through the Google for Good program. Contact Tyler (tyler@globalfishingwatch.org) or Andrea (andreasancheztapia@globalfishingwatch.org) for details\n\nBigQuery project: Data in BigQuery is organized in projects, which in turn contain datasets and tables. To access GFW data, users must be granted access to the GFW BigQuery project.\n\nGFW data lives in two primary BigQuery projects:\n\nworld-fishing-827: GFW project containing all internal GFW datasets related to research and development.\nglobal-fishing-watch: GFW project containing the output of automated GFW pipelines, as well as GFW public datasets.\n\nThe project will appear in the left menu bar of the BigQuery console and clicking on the project name will expand to show the list of datasets the user can access.\n\nIf you don’t see a BigQuery project in your console: Click on + ADD -&gt; Search for and star a project / STAR a project by name -&gt; Enter project name -&gt; type world-fishing-827 -&gt; select STAR\n\n\n\n\n\n5.1.2 Billing\nBigQuery costs are incurred in two ways - storing and querying data. + Queries cost $6.25 per terabyte of data scanned + GFW staff can use the gfw-google billing project. Queries using this project are “free” for GFW staff, but we need to be careful.\n\n5.1.2.1 The BigQuery validator\nThe BigQuery validator is a built-in query debugger that also estimates query cost. The validator will turn green when a query is valid and be red otherwise. Always use the validator to check the cost of a query before running it!",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#gfw-datasets",
    "href": "files/bigquery-key-concepts.html#gfw-datasets",
    "title": "5  BigQuery Key Concepts",
    "section": "5.2 GFW datasets",
    "text": "5.2 GFW datasets\nWithin a BigQuery project, data is stored in tables and organized in datasets. There are many datasets in the world-fishing-827 and global-fishing-watch projects. See the BigQuery Table Reference page for the list of key datasets.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#naming-conventions",
    "href": "files/bigquery-key-concepts.html#naming-conventions",
    "title": "5  BigQuery Key Concepts",
    "section": "5.3 Naming conventions",
    "text": "5.3 Naming conventions\nMany datasets and tables follow several key naming conventions. Abiding by these conventions will help make it easier for everyone to navigate the large amount of GFW data in BigQuery. It is beyond the scope of this document and unnecessary to prescribe naming conventions for every table. However, tables within a dataset should use clear and self-explanatory names.\n\n5.3.1 General guidelines\n\nUnderscores not dashes\nLowercase\nBe clear, concise, and consistent\nSet a “time to live” (TTL) on all scratch_ datasets. TTL’s should be used with other datasets and tables when appropriate (see BigQuery docs).\n\n\n\n5.3.2 Dataset names\nDatasets are the top level containers of our data in BigQuery. They should have standardized names that are easy to understand and navigate. Before creating a new dataset, consider whether the tables could be placed in an existing dataset.\n\n5.3.2.1 Prefixes\nThe following prefixes are used to organize datasets into groups:\n\npipe_[source]: These datasets contain automated tables that are consumed or produced by a GFW pipeline. The source indicates the type of data included in the pipeline.\ngfw_: Datasets related to GFW’s research work and public data\nproj_/prj: Project-specific datasets. Each project should receive its own dataset clearly named with the project topic (e.g. proj_[topic])\nscratch_: These datasets are for preliminary tables generated during early development and should be user specific (e.g. scratch_tyler).\n\nVMS: Datasets containing raw national VMS data.\n\nWhen processed by the GFW VMS pipeline, data is saved in a pipe_[country] dataset\n\nmachine_learning_: These datasets contain inputs/outputs of our machine learning models\n\nNote: Some datasets may end with the suffix _ttl_[days]. This indicates that the dataset has a “time to live” (TTL) set and tables in the dataset will be automatically deleted after the set period.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#versioning",
    "href": "files/bigquery-key-concepts.html#versioning",
    "title": "5  BigQuery Key Concepts",
    "section": "5.4 Versioning",
    "text": "5.4 Versioning\n\n5.4.1 Pipeline versioning\nGFW strives to use a semantic versioning approach to version our data pipelines. These version numbers are indicated in the dataset name using the _v flag following the pipe_[source] prefix. For example, the pipe_ais_v3_published dataset name indicates that the it contains published tables for the 3rd version of the AIS pipeline.\n\n\n5.4.2 Date versioning\nGFW is constantly receiving and processing new data. As a result, certain tables may be updated periodically to incorporate new data. To differentiate versions of the same table created at different points in time, GFW uses the _v[YYYYMMDD] naming convention for the suffix of a table, where the YYYYMMDD indicates the date the table was created. When multiple tables have the same name but end in different date strings, BigQuery will “stack” them together with the table name followed by a number in parentheses (e.g. vi_ssvid_v(13)).\nWhen a dataset or table ends in _v followed by a date string (_v20201001), the date refers to the version of the table. However, when there is no _v preceeding a date string, the date indicates that that table includes data for that specific date, as explained in the next section on table formats.\n\nNote: Using the latest view versus versioned tables For product_events_{EVENT_TYPE} tables we only preserve the most recent version and it is recommended to use the view version of the table rather than a specific dated version. In a future pipeline release we will remove the specific dated versions of these tables. It is generally recommended to use the latest view instead of versioned tables and the way tables are versioned may change in the future. Furthermore, access to versioned tables may be restricted to certain users in future pipeline releases.\n\n\n\n5.4.3 Compatability tables\nOccasionally, we need to apply breaking changes within a pipeline version. E.g. during the pipe3 lifetime we had to make a breaking change to the definition of product_events_port_visits. When this happens, we add a versioning suffix, in this case product_events_port_visits_v2. This “compatability table” will be maintained for the lifetime of the pipeline version and will replace the original table in the next pipeline version. In this case, product_events_port_visits_v2 will become product_events_port_visits in pipe4 and the original product_events_port_visits table will be removed.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#table-formats",
    "href": "files/bigquery-key-concepts.html#table-formats",
    "title": "5  BigQuery Key Concepts",
    "section": "5.5 Table formats",
    "text": "5.5 Table formats\nBigQuery tables can have several important formats that are used to organize data and minimize query cost and execution time. In particular, GFW creates tables that may be date sharded or date partitioned. Additionally, tables may be clustered on certain fields. Date sharded and date partitioned tables behave in similar ways but, crucially, require different filtering syntax to limit query size. Therefore, understanding how to recognize if a table is date sharded, partitioned, and/or clustered, and how to query them properly, is critical.\n\n5.5.1 Date partitioned tables\nMany GFW tables are date partitioned. These are single tables where data is stored in invisible partitions. If a table is partitioned, you will see This is a partitioned table when viewing the table’s info in BigQuery. Tables are generally partitioned on an actual field in the table (e.g. date or event_start). You can check the partitioning specification by viewing the table’s details.\nQueries against date partitioned tables can filter on the partitioned column using a WHERE statement, limiting the amount of data scanned and thus the cost.\nSELECT *\nFROM pipe_ais_v3_published.messages\nWHERE DATE(timestamp) = \"2019-01-01\"\n\n\n5.5.2 Date sharded tables\nUnlike date partitioned tables, date sharded tables are actually a collection of tables, one for each date, where the data for a given date is stored in its own table where the table name ends in a date string (e.g. messages_scored_20180101). When there is data for more than one date, the table name will be followed by a number in parentheses, with the number indicating how many days of data are in the sharded table (e.g. messages_scored_(3248)).\nThere are two main ways to restrict queries of date sharded tables depending on whether you’re querying one or multiple dates:\nFor a single date, you can specify the table directly using the full table name:\nSELECT *\nFROM pipe_ais_v3_internal.messages_scored_20180101\nWhen querying multiple dates, you use a wildcard character (*) in the table name and then use the _TABLE_SUFFIX argument in the WHERE statement to specify the date range:\nSELECT *\nFROM `world-fishing-827.pipe_ais_v3_internal.messages_scored_*` \nWHERE _TABLE_SUFFIX BETWEEN '20180101' AND '20180102'\nNote: Unlike date partitioned tables, use the YYYYMMDD format when filtering date sharded tables. Additionally, when using the * wildcard you must surround the table name in backticks.\n\n\n5.5.3 Clustered tables\nBigQuery tables can be clustered on certain fields. Similar to partitioning, clustering allows table data to be grouped together based on one or more table fields and improve query performance and cost when filtering on the clustered fields. You can check the clustering specification by viewing the table’s details.\nNote: Queries that filter on a clustered field may be cheaper than what is estimated by the BigQuery validator.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#key-concepts",
    "href": "files/bigquery-key-concepts.html#key-concepts",
    "title": "5  BigQuery Key Concepts",
    "section": "5.6 Key concepts",
    "text": "5.6 Key concepts\nBigQuery is powerful but complex tool and understanding certain key concepts can help get the most out of BigQuery.\n\n5.6.1 User Defined Functions\nUser-defined functions (UDF) are functions created using another SQL expression or JavaScript. These functions accept columns of input, perform actions, and return a value. UDFs can be defined directly at the top of a query or stored as functions in a special type of dataset. GFW maintains a collection of helpful UDFs in the udfs dataset in world-fishing-827. These queries can be called in any query using the udfs.function() syntax.\n\n\n5.6.2 STRUCTS and ARRAYS\nTwo key BigQuery data types used by GFW are ARRAYS and STRUCTS, which allow for nesting and/or repeating data.\nAn ARRAY is an ordered list of zero or more elements of non-ARRAY values (e.g. STRING, INT64). An ARRAY is listed as having a REPEATED mode. GFW uses arrays to store multiple types of information, such as the list of identities (e.g. callsigns) broadcast by each MMSI over AIS.\nA STRUCT is a container of ordered fields each with a type (required) and field name (optional). A STRUCT is listed as having a RECORD type. Fields are nested within a STRUCT - e.g. struct_field.nested_field. In general, GFW uses STRUCTs to group together information from different sources. For example, the vessel info tables use organize vessel identities from AIS and registries in separate STRUCTs.\n\n\n5.6.3 Spatial BigQuery\nBigQuery now supports a suite of powerful spatial analysis tools. These functions use the GEOGRAPHY data type, which represents a pointset (points, lines, polygons) on WGS84. Single points can be described by a (longitude, latitude) pair. For describing more complex geographies (lines, polygons), BigQuery supports GeoJSON, Well-known text (WKT), and well-known binary (WKB) data formats in the GEOGRAPHY column. GFW uses GEOGRAPHY data types to represent several data types, including the location of “events” (e.g. encounters, port visits, fishing).\n\n\n5.6.4 Data definition language\nBigQuery supports the use of data definition language (DDL), which allow you to create, alter, and delete tables directly in your query statement. This is a particularly helpful way to create partitioned and clustered tables.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-key-concepts.html#best-practices",
    "href": "files/bigquery-key-concepts.html#best-practices",
    "title": "5  BigQuery Key Concepts",
    "section": "5.7 Best Practices",
    "text": "5.7 Best Practices\n\nAlways use standard SQL - first line of your query should be #standardSQL\nWrite subqueries using WITH statement – avoid overly nested queries\nComment between queries to give space visually.\nPut all tables referenced at the top of the query.\nWhen using UDFs, try to use SQL based instead of JavaScript\nFor numerical parameters that will be used in multiple places, you can use a UDF at the top of the query that returns the value\nTo limit costs when developing or debugging queries:\n\nRestrict the date range or partitioned or sharded tables\nUse a LIMIT 1000 clause at the end of a query. Comment this out when running for real\n\nFor complex queries, consider including a (commented out) test query that does a sanity check",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>BigQuery Key Concepts</span>"
    ]
  },
  {
    "objectID": "files/bigquery-in-products.html",
    "href": "files/bigquery-in-products.html",
    "title": "6  BigQuery to APIs to Products",
    "section": "",
    "text": "6.1 GFW APIs\nGFW Data Products Diagram link",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>BigQuery to APIs to Products</span>"
    ]
  },
  {
    "objectID": "files/bigquery-in-products.html#gfw-apis",
    "href": "files/bigquery-in-products.html#gfw-apis",
    "title": "6  BigQuery to APIs to Products",
    "section": "",
    "text": "6.1.1 Current GFW APIs (v3)\n\nGFW API Portal - different end points and which products call different end points\n\nVessel Viewer API endpoints - Vessel Viewer specific API end points and examples\n\nA mapping of Global Fishing Watch Data Availability\n\nDocumentation on differences between GFW data when accessing in the API, the API wrappers, and Data Download Portal\nNote on Product Event Tables Vs Map Notion page last updated by Hannah H in April 2025 covering differences between published versions of AIS-based event data.\n\n\n\n\n6.1.2 Products Using Legacy APIs\nSome older products are still using legacy APIs:\n\nLegacy CVP\nVessel Profile Prototype",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>BigQuery to APIs to Products</span>"
    ]
  },
  {
    "objectID": "files/bigquery-in-products.html#accessing-api-logic",
    "href": "files/bigquery-in-products.html#accessing-api-logic",
    "title": "6  BigQuery to APIs to Products",
    "section": "6.2 Accessing API Logic",
    "text": "6.2 Accessing API Logic\nTo expose data from BigQuery (BQ) in our products, we organize it into API datasets. These are our way of grouping all data required for the Map and API services.\n\n6.2.1 via API datasets site\nAPI query logic is maintained in this API datasets hub. The API datasets hub returns the list of API Datasets that are used in our API.\n\nUsername = gfw_doc\nPassword = datasets\n\n\n6.2.1.1 How to Use the API Datasets Hub\n\nSelect the Environment\nUse the dropdown in the top-right corner to select the environment.\n➤ Choose Production to view datasets currently used in our Public APIs and on the Map.\nSelect a Dataset Group\nOnce the environment is set, pick the dataset group you want to explore — for example, AIS.\nWithin each group, datasets are categorized (e.g., Events, Insights, etc.). All available versions are listed under each category.\nFind the Latest Versions\nDatasets linked to Pipe v3 typically include v3.0 in their version string.\nExample: public-global-fishing-events:v3.01\nReview Dataset Logic\nIn the final column of each dataset entry, Queries & sources you’ll find links to the API quieries.\n\nThese links let you review the logic applied during API publication.\n\n\n\n6.2.2 via the Map\nStaff can login to Map with GFW account and click in the info pop up. User will see a section “Queries used” where you can get the same links describe above to the API logic (see example of fishing effort below).\n\n\n\nGFW Internal Feature - BQ Query link",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>BigQuery to APIs to Products</span>"
    ]
  },
  {
    "objectID": "files/bigquery-in-products.html#accessing-bigquery-table-logic",
    "href": "files/bigquery-in-products.html#accessing-bigquery-table-logic",
    "title": "6  BigQuery to APIs to Products",
    "section": "6.3 Accessing BigQuery Table logic",
    "text": "6.3 Accessing BigQuery Table logic\nTo view underlying BigQuery table logic:\n\nOpen the relevant table in BigQuery.\nClick the “Details” tab to find:\n\nSource tables\n(When available) links to the GitHub code that generates each table\n\nClick the “Lineage” tab for a flux diagram of the source tables that feed into the BQ table\n\n\n⚠️ If the logic in the API hub seems outdated or unclear, contact Gisela.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>BigQuery to APIs to Products</span>"
    ]
  },
  {
    "objectID": "files/bigquery-in-products.html#caveats-and-considerations",
    "href": "files/bigquery-in-products.html#caveats-and-considerations",
    "title": "6  BigQuery to APIs to Products",
    "section": "6.4 Caveats and Considerations",
    "text": "6.4 Caveats and Considerations\nPermissions\nAccess to API data may be restricted depending on your user role. Some datasets may only be available to:\n\nInternal GFW staff\nJAC members\nSpecific partners\n\nAs a result, data visible through the API can vary based on your credentials.\nData Filters\nWe’ve made our best effort to document all filters and permission scopes on each API. However, gaps may still exist.\nIf you’re uncertain about:\n\nWhy data may be missing or inconsistent\nWhat filters are applied\n\nPlease contact Gisela for clarification.",
    "crumbs": [
      "Data Overview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>BigQuery to APIs to Products</span>"
    ]
  },
  {
    "objectID": "files/vessel-identity.html",
    "href": "files/vessel-identity.html",
    "title": "7  Vessel Identity",
    "section": "",
    "text": "7.1 Automatic Identification System (AIS)\nThe Automatic Identification System (AIS) is an automatic tracking system originally developed to help preventing collisions between vessels at sea. AIS is at the core of Global Fishing Watch analysis pipelines, including the AIS-based fishing effort calculation displayed on our map. Vessels broadcast AIS to alert other vessels of their presence, but terrestrial and satellite receivers can also receive these messages and monitor vessel movements.\nAIS messages include identity information about the vessel, such as ship name, call sign, and International Maritime Organization (IMO) number, as well as an identifier known as the Maritime Mobile Service Identity (MMSI).\nThese identity markers are often the starting point of any inquiry around vessel identity. However, due to their characteristics, none of these identifiers should be interpreted as the sole identity source for a vessel. Global Fishing Watch does extensive work to analyze and gather all the information available for a given vessel into cohesive sets.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Vessel Identity</span>"
    ]
  },
  {
    "objectID": "files/vessel-identity.html#automatic-identification-system-ais",
    "href": "files/vessel-identity.html#automatic-identification-system-ais",
    "title": "7  Vessel Identity",
    "section": "",
    "text": "MMSI are nine-digit numbers broadcast in AIS messages. MMSIs are supposed to be unique for each vessel, but\n\na vessel can change MMSIs throughout its lifecycle–for example when it’s reflagged, because the first three digits refer to the flag country\nseveral vessels can broadcast the same MMSI at the same time. This happens for many reasons, including the fact that data entry in AIS messages is manual.\n\nShipname and callsign can be also transmitted in AIS messages but they are optional, not every AIS-broadcasting vessel transmits them, and their transmission can be inconsistent. Shipnames can also vary a lot in their spelling, requiring some fuzzy matching to detect if they refer to the same vessel.\nIMO numbers are permanent unique identifiers that follow a vessel from construction to scrapping. Assigned by the International Maritime Organization, IMO numbers are required for only a subset of industrial fishing vessels. IMO number can be transmitted along with MMSI in AIS messages but they are frequently missing.\n\n\n\nNote: MMSI is referred to as ssvid in our tables. ssvid stands for “source-specific vessel identity”. In this case, the source is AIS, and ssvid = MMSI.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Vessel Identity</span>"
    ]
  },
  {
    "objectID": "files/vessel-identity.html#registry-data",
    "href": "files/vessel-identity.html#registry-data",
    "title": "7  Vessel Identity",
    "section": "7.2 Registry data",
    "text": "7.2 Registry data\nVessel registries carry important vessel identity information, like vessel characteristics, registration history, licenses to fish in certain areas, and vessel ownership data. Global Fishing Watch compiles vessel information from over 40 public vessel registries and matches this information with the AIS-transmitted identity fields to provide a better overview of a vessel’s identity.\nMore about vessel registry data here",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Vessel Identity</span>"
    ]
  },
  {
    "objectID": "files/vessel-identity.html#internal-identity-markers",
    "href": "files/vessel-identity.html#internal-identity-markers",
    "title": "7  Vessel Identity",
    "section": "7.3 Internal identity markers",
    "text": "7.3 Internal identity markers\n\n7.3.1 vesselId\nBecause some vessel identifiers can be missing, or shared by different vessels, and they can change in time, Global Fishing Watch developed vesselId, a vessel identity variable that combines vessel information and is specific to a specific time interval.\nA vesselId is formed by a combination of the MMSI and the IMO number, when available, or by the MMSI, callsign and shipname transmitted in AIS messages.\n\nEach vesselId is associated to a single vessel at a specific period of time. A single vessel can have several vesselId in time, and this is why simple calls to a single vessel can return tables that have many vesselIds and different identity markers in time.\n\n\n\n7.3.2 Vessel record ID\nThe variable that unifies different vesselIDs in time is the Vessel Record ID.\nSome vessels have a single vesselID along their history, and therefore they lack this unifying variable.\n\n\n7.3.3 Hull ID\nHull ID is in development as a single identity marker for each vessel. Hull ID is not connected to registry and remains stable in time along identity changes of the same vessel. Unlike vessel record ID, all vessels–and not only those that appear in the registries–would have a Hull ID.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Vessel Identity</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html",
    "href": "files/vessel-database.html",
    "title": "9  Vessel Database",
    "section": "",
    "text": "9.1 Data Overview\nThe Global Fishing Watch vessel database contains information about vessels that is/was recorded in various formats of vessel registries, including RFMO vessel lists and national vessel registers that are publicly available. It also includes lists of vessels that have been obtained through groups of researchers and analyzed by analysts from GFW and its partners. The collected registry data are matched to AIS data to assign further identity, authorization, and owner information among others to the vessel found in AIS. For further reading about the matching, go to the link. Owner: Jaeyoon",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#key-tables",
    "href": "files/vessel-database.html#key-tables",
    "title": "9  Vessel Database",
    "section": "9.2 Key Tables",
    "text": "9.2 Key Tables\n\nvessel_database.all_vessels_vYYYYMMDD - This table contains all identity information for a vessel available from AIS and vessel registries, including where a vessel is authorized to operate, and who owns the vessel. The table is automatically created with the latest update on the 1st day of the month, and contains data until the date YYYYMMDD. For instance, vessel_database.all_vessels_v20211101 is created on the Dec 1, 2021, and includes AIS/registry data up to 2020-10-31 23:59:59. You can see the current status of the latest database in this dashboard.\nvessel_database_staging.registry_[registry_code]_vYYYYMMDD - These tables represent raw registries scraped monthly. You may replace [registry_code] with the registry code to be found in the registry sources. The tables include data obtained from each registry before they go through the process of matching registry to AIS.\nsingle_mmsi_matched_vessels_byyear_vYYYYMMDD - This table includes the most representative vessel per MMSI by year from the vessel database. Therefore, a single MMSI represents one row (vessel) in the given year in this table. The fields are identical to the vessel database except this table has year column.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#data-description",
    "href": "files/vessel-database.html#data-description",
    "title": "9  Vessel Database",
    "section": "9.3 Data Description",
    "text": "9.3 Data Description\nThe vessel database uses a multi-step process to match identity information from AIS data with identity information from vessel registries. Vessels are matched according to shipname, callsign, IMO number, and MMSI. These matches are then summarized by MMSI to show all identities associated with each MMSI. For more detailed information on the identity matching process, see this document.\n\nmatched: TRUE if the AIS identity standard-matches to one or more registries. The standard match indicates that the records from AIS and registry sufficiently close in multiple fields among name, callsign, IMO, MMSI number, and flag. In most cases, you would only need the standard matches.\nloose-match: TRUE if the AIS identity loose-matches to one or more registries. The loose-match represents the records that matched between AIS and registry through only name and flag. This is sometimes useful for investigating additional Chinese/Taiwanese vessels as some do only broadcast ship name. Not broadcasting other identity fields prevents the more confident standard-match, but if they use distinct ship name, it is possible to identify them through loose-match. Beware that loose-matches may present wrong matches if more than one vessel from the same country exist (e.g. There are &gt;20 vessels that are US-flagged and named FREEDOM)\nidentity: This STRUCT includes identity fields that are MMSI number, shipname, callsign, IMO number, and flag. It relies on data recorded in AIS data if a match was not perfect but good enough to pass the matching process. (e.g. AIS: ACONCAGUA vs Registry: ACONCAGOUA → In this case, normalized value from AIS (ACONCAGUA) remains in final database)\n\n\nssvid: The source-specific vessel ID which is equivalent to MMSI number in this dataset\n\n\nn_: This prefix represents “normalized” for shipname and callsign\n\n\nflag: The flag of a vessel is represented by ISO-3 country code\n\n\nfeature: This STRUCT presents representative (or best) value of vessel characteristics (length, tonnage, power, geartype, and crew number) derived from corresponding values registered in multiple registries. All raw values that are 2 standard deviations away from the average are discarded as an outlier. Each registry has only one vote for the calculation so as to avoid double counts for multiple scrapes of a registry. If some registries have higher levels of confidence (4 being the highest, 1 being the lowest), then they override the lower ones.\n\n\ngeartype: It represents the classification of a vessel. All (distinct) gears recorded in registries for a given vessel are stored in a form of ARRAY. Gears that can be merged will be merged to more fine-grained values (e.g. fishing | tuna_purse_seines | purse_seines → merged to only tuna_purse_seines)\n\n\nis_fishing, is_carrier, is_bunker: TRUE if the given vessel is categorized into the corresponding type based on feature.geartype values, FALSE otherwise\nactivity: It is an ARRAY of STRUCT of time blocks (including first_timestamp, last_timestamp, messages). Time blocks are AIS activities of the given vessel separated by &gt;90 days of gap from one another. For instance, if a vessel is AIS-active from 2020-01-01 to 2020-08-31, and then active again from 2021-01-01 to 2021-10-31, the activity field includes two elements in its ARRAY of the activity range in 2020 and 2021. However, if the first activity was up to 2020-11-30, then the two activity ranges are merged as from 2020-01-01 to 2021-10-31.\nregistry: It is an ARRAY of STRUCT of all relevant raw values from source registries. Often, this ARRAY includes a number of rows because a vessel may be registered to multiple registries, and those registries are scraped every month for a long period.\n\n\nlist_uvi: A unique vessel identifier within a given registry, it starts with registry code followed by ID code (e.g. WCPFC-1079)\n\n\nauthorized_from, authorized_to: Information about authorization period (mostly from RFMO registries). If one of the fields is NULL, it means no authorization information is available publicly, not that it is unauthorized.\n\n\nis_active: TRUE if a given vessel is active in AIS (at least 1 day) during the authorized period, FALSE otherwise.\n\n\nlast_modified: Date of known update made in registry\n\n\nscraped: Date of scraping (usually the 1st day of month)\n\n\nowner: Name of the owner (usually a company name). The owner is as indicated in a registry, which means it could be only registered owner instead of beneficial owner. We try to pull the beneficial owner if that information is available in the given registry.\n\n\nowner_flag: Nationality of the owner, based on the available information found in the given registry",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#caveats-known-issues",
    "href": "files/vessel-database.html#caveats-known-issues",
    "title": "9  Vessel Database",
    "section": "9.4 Caveats & Known Issues",
    "text": "9.4 Caveats & Known Issues\nThe database may contain information that is out of date or incorrect due to wrong information available in one or multiple registries on which the database relies. Users may want to double-check the validity of the information found in the database. Users can provide the correct information in this spreadsheet which will override the current data in the table. In case of any questions or suggestions, please contact jaeyoon@globalfishingwatch.org",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#example-queries",
    "href": "files/vessel-database.html#example-queries",
    "title": "9  Vessel Database",
    "section": "9.5 Example Queries",
    "text": "9.5 Example Queries\nYou can find some example queries for the vessel database in this link",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#links",
    "href": "files/vessel-database.html#links",
    "title": "9  Vessel Database",
    "section": "9.6 Links",
    "text": "9.6 Links\n\nTraining slides\nGitHub repo\nData dashboard\nRegistry sources\nUser guide",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-database.html#updates",
    "href": "files/vessel-database.html#updates",
    "title": "9  Vessel Database",
    "section": "9.7 Updates",
    "text": "9.7 Updates\n\nAll documents are updated on 2021-11-18\nAll key tables are automatically updated every 1st day of the month.\n\nIn the process in Nov 2021, some duplicates (mostly Chinese vessels) were merged together. It was due to some minor discrepancies that were not automatically detected/merged. For instance, two rows that have the same name but different call signs such as B4X80 and B4X8O, or two rows that have the same identity except different suffix numbers (which is important to separate vessels) such as LURONGYUANYU107 and LURONGYUANYU1O7. These cases are manually corrected and merged.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Vessel Database</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html",
    "href": "files/vessel-info-tables.html",
    "title": "10  vi_ssvid tables",
    "section": "",
    "text": "10.1 Key Tables",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html#key-tables",
    "href": "files/vessel-info-tables.html#key-tables",
    "title": "10  vi_ssvid tables",
    "section": "",
    "text": "pipe_ais_v3_published.vi_ssvid_vYYYYMMDD - This table includes the best activity and identity information available for the vessel based on its full AIS timeseries.\npipe_ais_v3_published.vi_ssvid_byyear_vYYYYMMDD - This table includes annual best activity and identity information for the vessel based only on data in each year. As a result, the information for a given year in pipe_ais_v3_published.vi_ssvid_byyear_vYYYYMMDD may not match that in pipe_ais_v3_published.vi_ssvid_vYYYYMMDD (e.g. the vessel recently re-flagged).",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html#data-description",
    "href": "files/vessel-info-tables.html#data-description",
    "title": "10  vi_ssvid tables",
    "section": "10.2 Data Description",
    "text": "10.2 Data Description\n\n10.2.1 vi_ssvid and vi_ssvid_byyear tables\nThe information in the main vessel info tables (vi_ssvid_vYYYYMMDD; vi_ssvid_byyear_vYYYYMMDD) is organized into multiple STRUCT that summarize the MMSI’s activity, ais_identity, inferred characteristics, registry_info, and best info to be used by GFW.\n\nactivity: Fields summarizing the amount and location of the MMSI’s AIS activity - positions, hours, fishing_hours, spoofing etc.\n\n\neez: Helpful summary of the MMSI’s activity (hours, fishing_hours) by EEZ. Useful for quick, non-spatial summaries of activity by EEZ\n\n\noffsetting: Whether the MMSI offsetting its position\n\n\noverlap_hours_multinames: Spoofing flag. Indicates how many hours the MMSI has overlapping segments with multiple identities. MMSI with overlap_hours_multinames &gt; 24 in a given year are considered to be spoofed.\n\n\nais_identity: Fields summarizing the identities (ship name, callsign, IMO, flag, etc.) broadcast by that MMSI in AIS messages. Each identity type includes a mostcommon field providing the most-common value for that identity type.\n\n\nFields prefixed with n_ are normalized versions of the original values.\n\n\nlikely_gear: Whether the MMSI’s most common shipname (n_shipname_mostcommon) suggests the MMSI is attached to fishing gear (e.g. BUOY16).\n\n\ninferred: Fields summarizing vessel characteristics (length, tonnage, geartype) inferred by the neural net for the MMSI.\n\n\nGFW uses a nested vessel class hierarchy and only “leaf” classes are scored by the neural net, which are recorded in inferred.inferred_vessel_class. However, the final inferred vessel class assigned to an MMSI is recorded in inferred.inferred_vessel_class_ag and corresponds to the lowest level vessel class with a cumulative neural net score &gt; 0.5.\n\n\nregistry_info: The identity information associated with the MMSI sourced from vessel registries\n\n\nValues correspond to the feature STRUCT in the vessel database.\n\n\nbest: GFW’s assigned “best” vessel characteristics after considering all info from AIS, the neural net, and vessel registries\n\n\nregistry_net_disagreement: Do the neural net (inferred.inferred_vessel_class_ag) and vessel registries (registry_info.best_known_vessel_class) disagree about the vessel class of the MMSI\n\n\n\n\n10.2.1.1 on_fishing_list_ fields\nGFW assigns MMSI to four types of fishing lists in the vessel info tables. Three lists indicate whether the MMSI is potentially a fishing vessel according to different sources. The fourth list, on_fishing_list_best combines the results of the previous three lists to make a final determination of whether each MMSI is likely a fishing vessel.\n\non_fishing_list_known - Listed as a fishing vessel on 1+ registries\non_fishing_list_sr - Consistently self reports as fishing in AIS messages &gt;98% of messages; minimum 50 positions\non_fishing_list_nn - The neural net believes the vessel is more likely a fishing vessel than a non-fishing vessel (e.g. combined neural net score for fishing classes inferred.fishing_class_score &gt; 0.5)\non_fishing_list_best - GFW’s best list of likely fishing MMSI. True in the following cases:\n\nThe vessel is on_fishing_list_known\nThe vessel is on_fishing_list_sr and on_fishing_list_nn\nThe vessel’s highest inferred.inferred_vessel_class_score is for a fishing vessel class and exceeds 0.85\nThe vessel is on_fishing_list_nn and on_fishing_list_known is not False",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html#caveats-known-issues",
    "href": "files/vessel-info-tables.html#caveats-known-issues",
    "title": "10  vi_ssvid tables",
    "section": "10.3 Caveats & Known Issues",
    "text": "10.3 Caveats & Known Issues\n\n10.3.1 Fishing hours incorrect for squid jiggers\nCurrently, the vessel info table summarizes fishing_hours from the pipe_ais_v3_published.segs_activity_daily table. Fishing hours in this table are calculated solely from nnet_score and are therefore incorrect for squid_jiggers, which should be calculated using night_loitering.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html#example-queries-need-updating",
    "href": "files/vessel-info-tables.html#example-queries-need-updating",
    "title": "10  vi_ssvid tables",
    "section": "10.4 Example Queries (need updating)",
    "text": "10.4 Example Queries (need updating)\n\nvessel_info_examples_1_v20211128.sql\nvessel_info_examples_2_v20211128.sql",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/vessel-info-tables.html#links",
    "href": "files/vessel-info-tables.html#links",
    "title": "10  vi_ssvid tables",
    "section": "10.5 Links",
    "text": "10.5 Links\n\nVessel info training slides\nVessel class definitions",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>`vi_ssvid` tables</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html",
    "href": "files/product-vessel-info-summary-pvis.html",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "",
    "text": "11.1 Key Tables",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#key-tables",
    "href": "files/product-vessel-info-summary-pvis.html#key-tables",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "",
    "text": "pipe_ais_v3_published.product_vessel_info_summary\npipe_production_v20201001.all_vessels_byyear_v2 - the previous version of the table table, maintained in pipeline 2.5.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#source-tables",
    "href": "files/product-vessel-info-summary-pvis.html#source-tables",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.2 Source Tables",
    "text": "11.2 Source Tables\nThe Product Vessel Info Summary table uses the following source tables, below. For more information on how these source tables are utilized to populate the Product Vessel Info Summary table, please see the Product Vessel Info Summary Data Template. The documentation for All Vessels v2, the previous version of the Product Vessel Info Summary Table can be found here.\n\npipe_ais_v3_published.product_vessel_info_match - internal table not to be used outside of products. This table was created to match our vessel_id (AIS transmitted data) to our registry matched table (identity core) so that Products automatically connect vessel_id (AIS records) to any existing registry records.\n\n\n\npipe_ais_v3_published.identity_core\npipe_ais_v3_published.vessel_info\npipe_ais_v3_published.segs_activity\npipe_ais_v3_published.segment_info\n\n\n\npipe_ais_v3_published.vi_ssvid\npipe_ais_v3_published.vi_ssvid_byyear\npipe_ais_v3_internal.purse_seine_support_vessels_byyear",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#data-description",
    "href": "files/product-vessel-info-summary-pvis.html#data-description",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.3 Data Description",
    "text": "11.3 Data Description\nThe Product Vessel Info Summary table is a step in the Vessels API, which links AIS records to registry records and is intended to act as a one stop shop for vessel identity for GFW Products. At the product level we want to provide the cleanest information we have on vessel identity, which is why there is an extra layer of logic to lay out a hierarchy for how to represent a vessel in Products when there is conflicting information.\nWe want to be transparent on this hierarchy and the logic behind it, internally, but also externally for all users. As a result, the table includes numerous summary fields on vessel activity, noise, and identity. While these extra details are not featured in Products, the information is intended to provide context for internal staff to understand why a vessel is represented the way it is. Further these fields allow analysts to use the Product Vessel Info Summary table more flexibly than how it is included in Products, to meet broader uses cases. Being able to use the Product Vessel Info Summary table for analysis that are separate from Products is valuable, as it is still easy to link analysis back to what is in Products and allows analysts to easily identify how the vessels in their reports reflect what is in Product, what is miss from Product, and what is represented differently from what is in Product, and why.\nHow the Vessels API is populated is highlighted in the diagram below; specifically how the Product Vessel Info Summary table fits into the Vessels API.\n  Vessels API diagram link\n \nWhimsical for how prod_shiptype and prod_geartype are populated\nPlease see the Product Vessel Info Summary Data Template for field definitions of all fields in table.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#caveats-and-known-issues",
    "href": "files/product-vessel-info-summary-pvis.html#caveats-and-known-issues",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.4 Caveats and Known Issues",
    "text": "11.4 Caveats and Known Issues\n\nPlease see the Product Vessel Info Summary Data Template Caveats section and FAQs section for more on the following topics.\nCaveats\nInaccuracies in inferred (neural net) class information\nPossibility of error between ssvid and vessel id merger\nFAQs\n\nWhy is a vessel I know to be a fishing vessel, not indicated as fishing on the Map?\nWhat if a vessel is considered multiple gear types?\nWhat should I do if I think a vessel type has been incorrectly assigned?\nWhy is my vessel_id NOT included in the Product Vessel Info Summary table (and thus in Products)?\nMultiple Vessel IDs for a single unique hull\nWhy am I only seeing a short track segment when I search for a vessel that I know is transmitting on AIS across years?\nMaking sense of vessels with shiptype ‘Discrepancy’\nWhat is the difference between core_geartype and registry_vessel_class fields?\n\nNoise filter: Products only include non-noisy segments, and subsequently vessel_id’s with at least one non-noisy seg_id (eg passes the WHERE good_seg and NOT overlapping_and_short filter) are excluded from Products.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#example-queries",
    "href": "files/product-vessel-info-summary-pvis.html#example-queries",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.5 Example Queries",
    "text": "11.5 Example Queries\n\nPlease see the Product Vessel Info Summary Data Template Use cases section for example Queries expanding on the following questions:\nHow do I use the activity summary fields to understand vessel activity?\nHow do I compare what the current product ship and gear type is in the product vessel info summary table to what was in the previous version of the table (all vessels v2)?\nDiscrepancy vessel example\nWhy is a vessel I know to be a fishing vessel, not indicated as fishing on the Map?\nHow can the Product Vessel Info Summary table be used to identify all possible fishing vessels?\nvessel_id_connected_to_noisy_segment_check - if a vessel_id does not appear in the Product Vessel Info Summary table, the only reason this should happen is because the vessel_id is connected to only noisy segments. The example query allows users to input a vessel_id or ssvid and verify if the vessel_ids connected to the vessel have at least one non-noisy segment and should thus be included in the Product Vessel Info Summary table.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#links",
    "href": "files/product-vessel-info-summary-pvis.html#links",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.6 Links",
    "text": "11.6 Links\n\nProduct Vessel Info Summary table data template documentation: redundant in many ways to the GitWiki. Intended to flesh out field definitions and other data tables in a format accessible by non-github using staff.\n[Outdated] All Vessels v2 resources &gt; * Vessel API link to All vessels: Diagram showing how All Vessels v2 fits within the work flow of the Vessel Identity API &gt; * All Vessels v2 Confluence: Includes source tables and code used to populated All Vessels v2 table. &gt; * All Vessels v2 Tech Call slides: from bi weekly tech call presentation on July 27th 2023",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/product-vessel-info-summary-pvis.html#updates",
    "href": "files/product-vessel-info-summary-pvis.html#updates",
    "title": "11  Product Vessel Info Summary (PVIS)",
    "section": "11.7 Updates",
    "text": "11.7 Updates\nLast updated on September 30th, 2024\n\n[Aug 2024] Pipeline 3.0 released in Products alongside DeckGL release. This marks official shift to using product_vessel_info_summary table, and retiring all_vessels_v2 for both internal/staff and external users.\n[2024 - Pipeline 3.0] In Pipeline 3.0, all_vessels_byyear_v2 renamed to product_vessel_info_summary\n[Oct 26 2023] all_vessels_byyear_v2 released in Products as part of public Vessel Viewer (VV 2.0) release, with updates from internal feedback survey. &gt; Updates to table: &gt; * added most frequent imo transmitted on AIS &gt; * added most frequent callsign transmitted on AIS &gt; * renamed flag field to mmsi_flag to make it clear that this flag is populated based on the first 3 digits of the MMSI transmitted on AIS &gt; * added gfw_best_flag field, which is pulled from vi_ssvid_byyear table and considers AIS and registry information &gt; * added core_flag, which is the flag information in the identity core table if an AIS records is high confidence matched (eg based on MMSI and another identity value) to a hull id. &gt; * Within prod_shiptype field, added ‘gear’ as a shiptype. &gt; * Within prod_shiptype field, eliminated the ‘potential_fishing’ shiptype option, and reclassified those vessels to ‘fishing’ to reduce confusion. We maintained the potential_fishing boolean field (see data template for field definition). See whimsical in data template on how shiptype and geartype are designated for clarity on what this means for how shiptype is determined. (shout out to Matt for spearheading the whimsical) &gt; * changed how prod_geartype field is populated, to reflect exactly what is expected to be seen in Products. &gt; * added potential_fishing_source field. This indicates the highest confidence field used to inform the potential_fishing boolean field.\n\n\nImpacts on other datasets: For engineering reasons (mainly the maintenance of Vessel Viewer (prototype)), we need to maintain All Vessels v1 and the AIS Published Event datasets along side All Vessels v2. That said, for the time being there are two sets of published event tables. Please use the following tables moving forward for analysis. If you have any questions about this, please reach out. * all_vessels: pipe_production_v20201001.all_vessels_byyear_v2 * coverage: pipe_v20201001_api.indicators_coverage_blocks_v2 * encounters: pipe_production_v20201001.published_events_encounters_v2 - carriers and fishing vessels are identified differently in All Vessels v2. Thus which encounters are flagged as carrier-fishing and support-fishing and thus included publicly in map are different. See below for more details. &gt; * Carrier vessels (and bunker vessels) require a match to a hull_id in the identity core table to be flagged. The process for matching carrier vessel records to AIS records is more precise than what was originally implemented. As a result there are fewer carriers in products. Based on initial analysis, this change is a good one and should make our identification of carriers more accurate. I am still investigating this to make sure we aren’t systematically losing legitimate carrier vessels, and from the analysis so far, things look good. &gt; * Fishing vessels: The long standing bug which classified known fishing vessels to ‘other’ vessel type due to noise should now be fixed in the All Vessels v2 table. Further the list of vessels flagged as fishing is expanded. In addition to vessels that are flagged as on_fishing_list_best (the original filter for identifying fishing vessels) in the vi_ssvid_byyear table, vessels that are flagged as a fishing vessel in a registry on by the neural net are included as fishing vessels in Product if the vessel isn’t already flagged as a support, carrier, bunker, or discrepancy vessel (see whimsical in data template for visual flow diagram of what this looks like). * fishing events: pipe_production_v20201001.published_events_fishing_v2 &gt; * fishing events query has been re-run on an expanded list of fishing vessels using the All Vessels v2 table as the source, where if a vessel is potential_fishing or on_fishing_list_sr (see data template for field definitions), then the vessel has fishing events populated for it. In Products, a narrower set of vessels have fishing events displayed (eg only vessels where prod_shiptype = ‘fishing’). This provided, depending on the use case, analysts may need to add an extra filter when using the published events fishing table. If you have any questions on this, please reach out. * loitering: pipe_production_v20201001.published_events_loitering_v2 * port visits: pipe_production_v20201001.published_events_port_visits_v2 + [July 2023] The all_vessels_byyear_v2 table is shared internally.",
    "crumbs": [
      "Vessel Identity",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Product Vessel Info Summary (PVIS)</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html",
    "href": "files/fishing-effort-and-vessel-presence.html",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "",
    "text": "12.1 Data Overview\nThe flagship datasets of Global Fishing Watch are vessel presences and apparent fishing effort based on transmissions from vessel tracking datasets, including the automatic identification system (AIS) and vessel monitoring systems (VMS). These datasets represent the amount of time vessels are present in an area and, for fishing vessels, how much of that time is spent fishing. Using cloud computing, machine learning, and public vessel registry information, GFW analyzes tens of millions of AIS and VMS positions each day to map global apparent fishing effort.\nProducing such a dataset involves two key steps:\nWe combine our comprehensive database of vessels with a known vessel type from vessel registries with two convolutional neural network (CNN) models to help us classify vessels and predict when they are fishing. The resulting output are a list of vessels by type (e.g. trawler, drifting_longline, cargo, etc.) and a dataset of AIS positions, where each position is labeled as a fishing/non-fishing position. These datasets can then be combined to evaluate the presence and fishing activity of individual vessels or make rasters of aggregate vessel presence or fishing activity.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#data-overview",
    "href": "files/fishing-effort-and-vessel-presence.html#data-overview",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "",
    "text": "Identification of fishing vessels in the AIS and VMS data\nDetection of fishing activity\n\n\n\nNote: Every AIS position receives a fishing score (or NULL if the model can’t make a prediction), regardless of whether that MMSI is classified as a fishing vessel. As non-fishing vessels can often move in ways similar to fishing vessels, it is not uncommon for their positions to be scored as fishing positions. This is why it is critical to filter to fishing vessels before calculating and summarizing fishing hours.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#key-tables",
    "href": "files/fishing-effort-and-vessel-presence.html#key-tables",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "12.2 Key Tables",
    "text": "12.2 Key Tables\n\npipe_ais_v3_published.messages - AIS positions, thinned to one minute per segment, for all vessels. This is the primary table for use in research, analysis, and products.\npipe_ais_v3_internal.messages_regions - AIS positions, thinned to one minute per segment, for all vessels. This table is stored in the internal pipe 3 dataset.\npipe_ais_v3_published.segs_activity - Summaries of vessel activity by segment (seg_id). Includes fields indicating which segments are likely noise (e.g. good_seg, good_seg2, overlapping_and_short) and should be filtered out.\npipe_ais_v3_published.segs_activity_daily - Daily summaries of vessel activity and fishing by segment (seg_id). This table can be used for non-spatial analyses that summarize vessel activity over specific time periods.\n\n\n12.2.1 Public Fishing Effort Tables\nGFW’s public fishing effort and vessel presence datasets (2012-2024) are gridded at 100th degree resolution by flag state and geartype and at 10th degree resolution by MMSI, respectively. These tables are available in a public BigQuery project (global-fishing-watch) and are inexpensive ways to quickly map fishing effort and vessel presence.\nThere are three public versions of the GFW fishing effort data.\n\n12.2.1.1 Current version (v3)\n\nglobal-fishing-watch.fishing_effort_v3: Public daily fishing effort by flag state and geartype (2012-2024) at 0.01 degree resolution.\nglobal-fishing-watch.fishing_effort_v3: Public daily fishing effort by MMSI (2012-2024) at 0.1 degree resolution.\n\n\n\n12.2.1.2 Archived versions (v1-v2)\n\nglobal-fishing-watch.gfw_public_data.fishing_effort_v2: Public daily fishing effort by flag state and geartype (2012-2020) at 0.01 degree resolution.\nglobal-fishing-watch.gfw_public_data.fishing_effort_byvessel_v2: Public daily fishing effort by MMSI (2012-2020) at 0.1 degree resolution.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#data-description",
    "href": "files/fishing-effort-and-vessel-presence.html#data-description",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "12.3 Data Description",
    "text": "12.3 Data Description\n\n12.3.1 hours and fishing_hours\nEach AIS position is assigned an amount of time (hours), which is calculated as the time since the vessel’s previous AIS position. Vessel presence is calculated by simply summing the hours of all AIS positions from good segments in the analysis.\nAIS positions also receive two types of fishing score (0-1) - one from the GFW fishing detection algorithm (nnet_score), and one from a separate algorithm that detects likely fishing by squid jiggers (night_loitering). AIS positions where the relevant fishing score is equal to 1 are considered fishing positions and all hours assigned to that position are considered fishing effort (fishing_hours).\n\n\n12.3.2 Fishing score (nnet_score vs. night_loitering)\nThe GFW fishing detection algorithm performs poorly for squid jiggers, which fish at night using lights while remaining largely stationary. To account for this, a second fishing algorithm identifies when vessels exhibit this night loitering behavior. Because the vessel class associated with an MMSI can change - either over time or as a result of improved GFW vessel classification - all AIS positions receive both fishing scores so that they are available. As a result, when calculating fishing effort, it is important to first assign a vessel class to each MMSI in order to use night_loitering for squid jiggers and nnet_score for all other fishing vessels.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#caveats-known-issues",
    "href": "files/fishing-effort-and-vessel-presence.html#caveats-known-issues",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "12.4 Caveats & Known Issues",
    "text": "12.4 Caveats & Known Issues\nWhile AIS provides a revolutionary way to monitor global commercial fishing activity, there are several important limitations and caveats.\n\n12.4.1 Many fishing vessels are not trackable via AIS\nAIS data includes only a small fraction — approximately 100,000 — of the world’s estimated 2.8 million fishing vessels. Coverage is much higher for larger vessels with less than 1 percent of vessels under 12 meters represented, 14-19 percent for vessels between 12-24 meters, and 52-85 percent for vessels larger than 24 meters. The International Maritime Organization mandates AIS for most vessels larger than 36 meters, and vessels broadcasting AIS are predominantly from upper and upper-middle income countries.\n\n\n12.4.2 GFW identifies apparent fishing effort\nThe GFW fishing detection algorithm is a best effort mathematically to identify “apparent fishing activity.” It is possible that some fishing activity is not identified as such by our algorithms and, conversely, we may predict fishing activity where fishing is not actually taking place. For these reasons, GFW qualifies designations of vessel fishing activity, including synonyms of the term “fishing activity,” such as “fishing” or “fishing effort,” as “apparent,” rather than certain.\n\n\n12.4.3 Fishing activity is under-represented in areas of poor AIS reception\nFor various technical reasons, not every AIS message that is broadcast is recorded. Satellites must be overhead to receive AIS signals, terrestrial receivers only receive signals near shore, AIS messages can interfere with each other in areas of high vessel density, and AIS devices vary in broadcast strength and frequency. As a result, fewer AIS positions are received by vessels operating in certain parts of the world, limiting the effectiveness of our machine learning models and our ability to detect apparent fishing effort.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#example-queries",
    "href": "files/fishing-effort-and-vessel-presence.html#example-queries",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "12.5 Example Queries",
    "text": "12.5 Example Queries\n\nfishing_hours_by_position.sql: Basic query to pull AIS positions for fishing vessels and calculate fishing hours.\nfishing_hours_gridded.sql: Query to create a raster of fishing hours, including fishing hours per square kilometer.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/fishing-effort-and-vessel-presence.html#links",
    "href": "files/fishing-effort-and-vessel-presence.html#links",
    "title": "12  Fishing Effort and Vessel Presence",
    "section": "12.6 Links",
    "text": "12.6 Links\n\nFishing effort training slides\nFishing effort description on GFW website",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Fishing Effort and Vessel Presence</span>"
    ]
  },
  {
    "objectID": "files/coverage.html",
    "href": "files/coverage.html",
    "title": "13  Coverage",
    "section": "",
    "text": "13.1 Key Tables",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#key-tables",
    "href": "files/coverage.html#key-tables",
    "title": "13  Coverage",
    "section": "",
    "text": "There is no key table for coverage. Coverage is instead calculated in the API without an associated BigQuery table, because coverage is calculated every day (with a 3 day delay) for a vessels activity in the previous year. The coverage value therefore must be recalculated every day, and also must consider if you are vessel records being manually merged together, which requires individual calculations for every manual merge configuration. See Example Queries sections for information on how to manually calculate coverage.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#source-tables",
    "href": "files/coverage.html#source-tables",
    "title": "13  Coverage",
    "section": "13.2 Source Tables",
    "text": "13.2 Source Tables\n\npipe_v20201001_api.indicators_coverage_blocks_v2 (v2 used in vv 2.0; should be used as default) - daily hourly coverage rate per vessel_id. Each vessel_id lists for every day the number of hours the vessel was active (in a voyage), and the number of hours were at least one AIS transmission was counted. In this way, this table provides a daily coverage value which gets aggregated together in the API to get an overall coverage value. See example query section for query which illustrates how to nearly replicate the coverage calculation seen in Vessel Viewer. &gt; + pipe_v20201001_api.indicators_coverage_blocks (original version currently used in vv (prototype)) - this table is generally reflective of what is in v2, but is maintained separately for vv (prototype).\n\npipe_production_v20201001.vessel_info - used to set the date range for a vessels activity (vessel_id resolution)",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#data-description",
    "href": "files/coverage.html#data-description",
    "title": "13  Coverage",
    "section": "13.3 Data Description",
    "text": "13.3 Data Description\n\nCoverage definition in Vessel Viewer: The coverage metric is an estimate of how well a vessel’s activities, i.e. where it traveled and what it did, can be captured by AIS data. To calculate it, all voyages linked to a vessel in the last year (i.e. 12 months) are segmented into one hour blocks and the total number of blocks with at least one AIS transmission are counted. The coverage metric is a percentage representing the proportion of one hour blocks a vessel is in a voyage and has at least one AIS transmission.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#caveats-and-known-issues",
    "href": "files/coverage.html#caveats-and-known-issues",
    "title": "13  Coverage",
    "section": "13.4 Caveats and Known Issues",
    "text": "13.4 Caveats and Known Issues\n\nCoverage only calculated during voyages: The coverage calculation is limited to the period of time a vessel is detected in a voyage (eg the activity of a vessel out at sea, between port visits). This means that if a vessel is detected in port, this activity the vessel is active on AIS will not be factored into the coverage calculation. Some of the reasons for this are, (a) if a vessel is in port for a long period of time with its AIS on, that high coverage may be disproportionate and not reflective of the vessels coverage at sea, (b) vessels frequently turn off AIS once in port. If there is an issue detecting port visits for a vessel, this may affect the accuracy of the coverage calculation, given port visits are used to bound the period of time to calculate coverage for.\n\nOne hour intervals: Coverage is evaluated by looking at the frequency a vessel transmits on AIS at least once every hour. Depending on the use case or the area where a vessel is active, evaluating coverage on one hour intervals may result in low coverage. For instance, in some areas satellite reception may be low, resulting in low coverage subsequently. Fishing vessels frequently transmit Class B AIS, which has a less frequent ping rate that could result in lower coverage. These factors and others are important to consider when trying to understand the value/meaning of the coverage metric.\nOne year intervals: In Products, the coverage metric is calculated for the past year of activity with a three day delay. If a vessel of interest has primarily been active during at time not in the past year, then the coverage value is not very useful. However coverage can manually be calculated in BigQuery in these cases. See Example Queries for more.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#example-queries",
    "href": "files/coverage.html#example-queries",
    "title": "13  Coverage",
    "section": "13.5 Example Queries",
    "text": "13.5 Example Queries\n** if trying to replicate coverage in Vessel Viewer, user should define time range for one year period considering 3 day delay. For example if user looks at coverage in Vessel Viewer on Oct 20th 2023, then date range in example query should be set for Oct 17th 2023 to Oct 17th 2022. + coverage_single_vessel_id.sql - coverage for specified vessel_id and user defined time range + coverage_multi_vessel_id.sql - coverage for list of vessel_ids with user defined time range + coverage_aggregate.sql - aggregate coverage vessel for select group of vessel_ids and user defined time range",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#links",
    "href": "files/coverage.html#links",
    "title": "13  Coverage",
    "section": "13.6 Links",
    "text": "13.6 Links\n\nVessel Viewer FAQs - see bottom of page 6 for description of how coverage is defined.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/coverage.html#updates",
    "href": "files/coverage.html#updates",
    "title": "13  Coverage",
    "section": "13.7 Updates",
    "text": "13.7 Updates\nLast updated on October 20, 2023",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Coverage</span>"
    ]
  },
  {
    "objectID": "files/vms-data-sources.html",
    "href": "files/vms-data-sources.html",
    "title": "14  VMS Data Sources",
    "section": "",
    "text": "14.1 Unified VMS Pipeline\nThe GFW platform currently includes VMS data from 10+ countries. Each VMS dataset comes from a separate data feed and receives it’s own BigQuery dataset. As of version 3 (v3) of the GFW vessel tracking pipeline, each VMS dataset is stored in two datasets labelled pipe_vms_[iso3]_v3_[internal/published]. Additionally, all VMS datasets are combined into a single “unified” VMS pipeline stored in the BQ datasets pipe_vms_v3_internal and pipe_vms_v3_published.",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>VMS Data Sources</span>"
    ]
  },
  {
    "objectID": "files/vms-data-sources.html#source-vms-datasets",
    "href": "files/vms-data-sources.html#source-vms-datasets",
    "title": "14  VMS Data Sources",
    "section": "14.2 Source VMS Datasets",
    "text": "14.2 Source VMS Datasets\n\n14.2.1 Indonesia\n\nData description: The Indonesian VMS data is provided by the KKP and includes data for all Indonesian flagged vessels and vessels authorized to fish in Indonesia’s EEZ.\n\nDate range: 2014-01-01 - 2020-07-03 NOTE: We will not be receiving new data in the near future\nMessage frequency: Messages are received in 5 - 60 minute intervals\nVessel classes: Anchored gillnet, Basic longline, Cast nets, Fish net/dragnet, Handline, Handline tuna, Lampara seine nets, Longline tuna, Oceanic gillnet, Pole and line, Pots, Purse seine small pelagics, Purse seine big pelagics with one boat, Purse seine group (2 boat) big pelagics, purse seine group (2 boat) small pelagics, Shrimp net, Squid hooking, Stick held lift net, Transporter\nIdentity information: transmitter_no (ssvid) and shipname\n\nBigQuery dataset: pipe_indonesia_production_v20200320\n\nVessel identity table(s): vessel_info\n\nData redacted from GFW map (if applicable):\n\nGFW lead: Wildan (@wildan; wildan@globalfishingwatch.org) / Liva (@liva; liva@globalfishingwatch.org)\nCaveats & known issues: Due to the data license agreement, the Indonesian VMS data cannot be used without the approval of the KKP as the data owner, at this time the data has been stopped and is in the process of extending the cooperation.\n\n\n\n14.2.2 Peru\n\nData description: The Peru VMS data is provided by API\n\nDate range: 2012-01-01 - present\nMessage frequency: two ping rates, 20 minutes for artisanal vessels and 10 minutos for industrial vessels\nVessel classes: (fish_factory, tanker ) and (trawlers, purse_seines, set_gillnets, squid_jigger, set_longlines, pots_and_traps, bottom_longlines, longline_handline, drifting_longlines)\nIdentity information: Shipname and PLATE\n\nBigQuery dataset: pipe_peru_production_v20211126\n\nVessel identity table(s): vessel_info\n\nData redacted from GFW map (if applicable): vessel info (name,plate,length,gear, fishery type) is publish same in both private and public workspace\nGFW lead:\nCaveats & known issues: The fishing model is not working good for artisanal fleets (squid_jigger and longline_handline)\n\n\n\n14.2.3 Chile\n\nData description: The Chile VMS data is provided by NAF messages, it is a way they had to export it from CLS Themesis Systems.\n\nDate range: 2019-02-01 - present\nMessage frequency: By law fishing, transport and aquaculture vessels every 15 min (BQ - Artisanal: 19min, Industrial: 10min, Aquaculture: 17min, Transport: 16min). Purse Seine fishing vessels every 8 min (BQ: 17min)\nVessel classes: Artisanal, Industrial, Transport, Aquaculture\nIdentity information: shipname, ssvid, callsign, vessel_id\n\nBigQuery dataset: pipe_chile_production_v20211126\n\nVessel identity table(s): vessel_info\n\nData redacted from GFW map (if applicable): Public Map only shows industrial and artisanal vessels. Private one also includes aquaculture and transport vessels. Both spaces don’t have any identifying info for each vessel, only flag, first and last transmission, and fleet.\nGFW lead:\nCaveats & known issues: Slight inconsistencies between BQ and public map tracks for certain vessels. Some ssvids have multiple callsigns associated. Sometimes all are the same vessel and others they are different vessels (often times with the same ship name). No unique vessel identifier found to distinguish these cases. Noted pipe_chile_production_v20211110 is available (created at a newer date, but with no 2021 data. Have asked engineering about it).\n\n\n\n14.2.4 Panama\n\nData description: The Panama VMS data is provided by NAF messages, it is a way they had to export it from CLS Themesis Systems.\n\nDate range: 2012-01-01 - present\nMessage frequency: 1 hours\nVessel classes: drifting_longlines, set_longline, purse_seines, supply_vessel, tanker, reefer\nIdentity information: IMO and Callsign\n\nBigQuery dataset: pipe_panama_production_v20211126\n\nVessel identity table(s): vessel_info\n\n\nData redacted from GFW map (if applicable): vessel info is not displayed on the public workspace\nGFW lead:\nCaveats & known issues:\n\n\n\n14.2.5 Norway\n\nData description:\n\nDate range:\nMessage frequency:\nVessel classes:\nIdentity information:\n\nBigQuery dataset: pipe_norway_production_v20220112\n\nVessel identity table(s):\n\nData redacted from GFW map (if applicable):\nGFW lead:\nCaveats & known issues:\n\n\n\n14.2.6 Brazil\n\nData description: The Brazil VMS data is provided by two vms providers Onixsat and Ariasat companies…\n\nDate range: 2016-01-01 - present\nMessage frequency: two ping rates, 20 minutes for tuna longliners and one hour for the others\nVessel classes: Trawlers (bottom, single net, doble rig net, pair trawl), gillnet (bottom and surface), line (surface longline, bottom longline, handline), purse seine, pots and traps (lobster, octopus and red snapper)\nIdentity information:\n\nBigQuery dataset: pipe_brazil_production_v20211126\n\nVessel identity table(s): world-fishing-827.VMS_Brazil.brazil_registry_2021_09_09\nIdentity information:\n\nData redacted from GFW map (if applicable):\n\nGFW lead: Claudino (@Claudino; claudino@globalfishingwatch.org)\nCaveats & known issues: Ariasat data source has no speed and course information, need to calculate. and also ariasat has no historical information.\n\n\n\n14.2.7 Costa Rica\n\nData description: The Costa Rica VMS data is providade by INCOPESCA\n\nDate range: 2021-04-08 to present\nMessage frequency: 1 - 2 hours\nVessel classes: Sardineros, Avanzados, atuneros\nIdentity information: NA\n\nBigQuery dataset: pipe_costarica_production_v20211126\n\nVessel identity table(s): NA\n\nData redacted from GFW map (if applicable):\n\nGFW lead: Claudino (@Claudino; claudino@globalfishingwatch.org)\nCaveats & known issues:\n\n\n\n14.2.8 Ecuador\n\nData description: The Ecuador VMS data is provided by DIRNEA\n\nDate range: 2020-08-14 to present\nMessage frequency: one hour according regulations\nVessel classes: Industrial\nIdentity information:\n\nBigQuery dataset: pipe_ecuador_production_v20211126\n\nVessel identity table(s): world-fishing-827.VMS_Ecuador.manual_registry_list_q32020 static information from 2020\n\nData redacted from GFW map (if applicable):\n\nGFW lead: Claudino (@Claudino; claudino@globalfishingwatch.org)\nCaveats & known issues:\n\ndata show some positions with wrong timestamp\nafter march 2021 part of wrong timestamps gone and start appears gaps\nthere are ~4000 artisanal vessels and only 400 regularly broadcasting. Due low ping rates artisanal are not show in map 3.0\nvessel categories are created based on matricula pattern, there are 14 different categories including non-fishing vessels\n\n\n\n\n14.2.9 Belize\n\nData description: The Belize VMS data is provided by PoleStar\n\nDate range: 2021-08-01 to present\nMessage frequency: TBD\nVessel classes: TBD\nIdentity information:\n\nBigQuery dataset: pipe_belize_production_v20220304\n\nVessel identity table(s): TBD\n\nData redacted from GFW map (if applicable):\n\nGFW lead: Claudino (@Claudino; claudino@globalfishingwatch.org)\nCaveats & known issues: TBD\n\n\n\n14.2.10 Mexico - NOT STABLE. CONTACT ENGINEER TEAM BEFORE USE.\n\nData description: The Mexico VMS data provider is Orbcomm and Conapesca monitors data and alerts through a system called SISMEP. We currently don’t have an agreement signed and don’t receive data directly from Conapesca. However, we have two sets of data. One was requested by Oceana early 2021 and made public as a csv. The other is from downloading csv files directly from the Conapesca website. In march of 2021 Conapesca decided to publish and make all VMS data public through their open data portal.\n\nDate range: Oceana data: 2013-01-01 - 2020-12-31 Conapesca data: 2011-01-01 - 2021-02-28\nMessage frequency: By law pings should be every hour. BQ for Oceana data: 107min. BQ for Conapesca data: 76min\nVessel classes: None given. But primarily industrial fishing vessels. VMS required for vessels with &gt; 80HP and length &gt; 10.5 meters\nIdentity information: RNP/ssvid, NOMBRE/shipname,vessel_id\n\nBigQuery dataset: Oceana: pipe_mexico_oceana_production_v20210811 Conapesca: VMS_Mexico.raw_mexican_open_data_partitioned\n\nVessel identity table(s): None yet. Messages scored or original data sets could be used\n\nData redacted from GFW map (if applicable): Not currently on the public map. Oceana data is displayed in the private workspace\nGFW lead:\nCaveats & known issues: Previously identified and currently testing for speed discrepancies/unknown units. Conapesca data has several issues with timestamps being incomplete or in inconsistent format. However, it has a lot more positions than data given to Oceana. BQ tables and private workspace based on Oceana data, shows significant inaccuracies in non-fishing activity being scored as fishing\n\n\n\n14.2.11 Namibia NOT STABLE. CONTACT ENGINEER TEAM BEFORE USE.\n\nData description: The Namibian data is provided by Google Drive and it is not a good system because they do a lot of manual work on their side.\n\nDate range: 2014-01-01 - present\nMessage frequency:\nVessel classes:\nIdentity information:\nVessel identity table(s): vessel_info\n\nData redacted from GFW map (if applicable):\n\nCaveats & known issues:",
    "crumbs": [
      "Vessel Tracking and Behavior",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>VMS Data Sources</span>"
    ]
  },
  {
    "objectID": "files/encounters.html",
    "href": "files/encounters.html",
    "title": "15  Encounters",
    "section": "",
    "text": "15.1 Key Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/encounters.html#key-tables",
    "href": "files/encounters.html#key-tables",
    "title": "15  Encounters",
    "section": "",
    "text": "pipe_ais_v3_published.product_events_encounter - Same as the encounters table but with a schema intended for use in products and consumed by the APIs. This means that there is one row for each of the two vessels in an encounter and the two rows must be joined together to have the information associated with both vessels on the same row (see query examples). This is a view of product_events_encounter_vYYYYMMDD that always provides data from the latest version (vYYYYMMDD) of the table but using the underlying table is deprecated and will be removed in a future pipeline release. Instead, the product_events_encounter view should be used.\npipe_ais_v3_published.product_events_encounter_vYYYYMMDD (deprecated) - This is the underlying table that pipe_ais_v3_published.product_events_encounter is based on. The YYYYMMDD suffix indicates the date of the version of the table. Usage of this table is deprecated and will be removed in a future pipeline release. Instead, the product_events_encounter view should be used.\npipe_ais_v3_published.encounters - Source table for the product_events_encounter_vYYYYMMDD table. This is not filtered by speed and has one row per encounter.\n\n\n15.1.1 Source Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/encounters.html#data-description",
    "href": "files/encounters.html#data-description",
    "title": "15  Encounters",
    "section": "15.2 Data Description",
    "text": "15.2 Data Description\nWhen two vessels are observed in close proximity for an extended period of time it is considered an encounter. product_events_encounters applies the additional constraint that both vessels must be moving very slowly. Encounters occur when:\n2 vessels within 500 meters of each other Minimum duration of 2 hours 10 kilometers from a coastal anchorage traveling &lt;2 knots [product_events_encounters only]\nFor more information, see data training slides on encounter and loitering events HERE.\n\n15.2.0.1 Definitions used in RFMO Transshipment Reports\nGFW, in partnership with The Pew Charitable Trusts, has produced annual reports covering the years of 2017-2019 on transshipment activity in the the five major tuna RFMOs. These reports compare reported activity to potential transshipment, fishing, and port activity detected on AIS. The definitions of encounter and loitering events used for these reports are as follows.\n\nEncounters: when two vessels are within 500 meters of each other for at least 2 hours and traveling at &lt; 2 knots, while at least 10 kilometers from a coastal anchorage (Miller et al. 2018).",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/encounters.html#caveats-known-issues",
    "href": "files/encounters.html#caveats-known-issues",
    "title": "15  Encounters",
    "section": "15.3 Caveats & Known Issues",
    "text": "15.3 Caveats & Known Issues\n\nGFW has never created encounters for short events on either side of the UTC day boundary - specifically those that start between 10pm and 12am or end between 12am and 2am. This is a known issue that will be fixed in the future, for more information see PIPELINE-2137 and this Slack thread\nPoint nature of events; if ais transmission is poor, the average location can be inconsistent with full location of tracks during time period. In addition, due to the way events are combined across days, average event parameters are approximate.\nDue to the definition of encounter and loitering events, loitering events can overlap with encounter events.\nMaintaining up to date identity changes of carrier and fishing vessels of interest in encounters between carrier and fishing vessels. Always use the most up-to-date identity tables, and verify results when possible.\nVessels may encounter more than one vessel at a time, an issue that comes up frequently in the presence of gear, but also occasionally with multiple vessels meeting.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/encounters.html#example-queries",
    "href": "files/encounters.html#example-queries",
    "title": "15  Encounters",
    "section": "15.4 Example queries",
    "text": "15.4 Example queries\n\nNeeds updating. Removed links until queries are updated/removed.\n\n\nencounters_1_ssvid.sql - this query pulls information on both vessels in the encounter, including vessel attributes that are nested within the event_vessels field\n\nencounters_2_carriers_fishing.sql - this query identifies encounters between carrier and fishing vessels, pulling from the shiptype attribute used in Products (eg mirroring the encounters you would expect to see in Products as of June 2023 when this query was drafted).\nencounters_3_iccat.sql - new example query that pulls out encounters that occurred inside ICCAT. Pulls using the ICCAT shapefile in the pipe_regions_layers bin. Technically you could also use the method in the below example query to identify encounters in ICCAT - both pulling region information from within the published events table, and using the regions shapefiles in the pipe_regions_layers should yield the same results.\nencounters_3_no_take_mpa.sql - new example query that pulls out encounters that occurred inside a no take MPA based on the region information in the Map.\nencounters_4_original_table.sql - this query pull encounters with an average speed of greater than 2 knots from the original encounter table that is the base for the published event encounter table. Note, for the most part, the only encounters in the original table that are not in the published_event_encounter table, are those encounters with an average speed above 2 knots.\npublished_events_unnest_auth_info.sql - how to pull event authorization from published event table schema\n\nloitering_overlap_encounters.sql\nanalysis-pew-ts-reports/rfmo/rfmo-yyyy: see queries folder for BQ data pull and analysis folder for data cleaning and analysis",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/encounters.html#related-content",
    "href": "files/encounters.html#related-content",
    "title": "15  Encounters",
    "section": "15.5 Related Content",
    "text": "15.5 Related Content\n\nCarrier Vessel Portal (CVP)",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Encounters</span>"
    ]
  },
  {
    "objectID": "files/loitering.html",
    "href": "files/loitering.html",
    "title": "16  Loitering",
    "section": "",
    "text": "16.1 Key Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#key-tables",
    "href": "files/loitering.html#key-tables",
    "title": "16  Loitering",
    "section": "",
    "text": "pipe_ais_v3_published.product_events_loitering - A view of product_events_loitering_vYYYYMMDD that always provides data from the latest version (vYYYYMMDD) of the table. Similar to loitering table, however the schema is modified to be consistent with the other product_events_ tables largely used in products APIs. The table applies the following two filters on top of the source loitering table:\n\ngood_seg AND NOT overlapping_and_short\navg_distance_from_shore_nm &gt;= 20\n\npipe_ais_v3_published.product_events_loitering_vYYYYMMDD (deprecated) - This is the underlying table that pipe_ais_v3_published.product_events_loitering is based on. The YYYYMMDD suffix indicates the date of the version of the table. Usage of this table is deprecated and will be removed in a future pipeline release. Instead, the product_events_loitering view should be used.\npipe_ais_v3_published.loitering - Source loitering table for product_events_loitering_vYYYYMMDD that includes all vessels types with no constraints on distance from shore and duration, and has not been filtered to good seg or overlapping and short. - analysts need to add restrictions.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#source-tables",
    "href": "files/loitering.html#source-tables",
    "title": "16  Loitering",
    "section": "16.2 Source Tables",
    "text": "16.2 Source Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#data-description-and-definition",
    "href": "files/loitering.html#data-description-and-definition",
    "title": "16  Loitering",
    "section": "16.3 Data Description and Definition",
    "text": "16.3 Data Description and Definition\nWhen two vessels are both observed moving very slowly in close proximity for an extended period of time it is considered an encounter event. If only one vessel is observed operating in this fashion, it is considered a loitering event. Loitering events are important because they may indicate that the vessel is encountering another vessel that is not broadcasting AIS.\nThe loitering query groups data by hour by vessel. It gets the average speed of an hour block of time, and then identifies consecutive hour blocks where the average implied speed is &lt; 2 knots. Points that fall within these periods of time are aggregated and classified as loitering events.\nThe loitering pipeline was developed to create and automate a daily updated loitering dataset. The dataset starts in 2012 and is updated up to 3 days prior to the current day (in order to aggregate multi-day loitering events). It is no longer filtered on any of the following to allow the analyst the flexibility to choose the desired parameters:\n\nVessel type\nDistance from shore\ngood_seg or overlapping_and_short\nminimum loitering time (beyond the minimum 2 hour threshold)\n\nIt is partitioned on the loitering_start_timetamp field, and clustered by ssvid.\nFor more information, see data training slides on encounter and loitering events HERE.\n\n16.3.0.1 Definitions used in RFMO Transshipment Reports\nGFW, in partnership with The Pew Charitable Trusts, has produced annual reports covering the years of 2017-2019 on transshipment activity in the the five major tuna RFMOs. These reports compare reported activity to potential transshipment, fishing, and port activity detected on AIS. The definitions of encounter and loitering events used for these reports are as follows.\n\nEncounters: when two vessels are within 500 meters of each other for at least 2 hours and traveling at &lt; 2 knots, while at least 10 kilometers from a coastal anchorage (Miller et al. 2018).\nLoitering events: when a carrier vessel travelled at speeds of &lt; 2 knots for at least 4 hours, while at least 20 nautical miles from shore (see Miller et al. 2018 for original methodology, however the original minimum of 8 hours has been changed to 4 hours for the purposes of this study).",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#caveats-known-issues",
    "href": "files/loitering.html#caveats-known-issues",
    "title": "16  Loitering",
    "section": "16.4 Caveats & Known Issues",
    "text": "16.4 Caveats & Known Issues\n\nPoint nature of events (if poor ais transmission average location can be inconsistent with full location of tracks during time period)\nMaintaining up to date identity changes of carrier and fishing vessels of interest\nLoitering table is for all vessels types with no constraints on distance from shore and duration. In addition, it has not been filtered on good segs or overlapping and short - analyst needs to add restrictions.\nDue to the definition of encounter and loitering events, loitering events can overlap with encounter events.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#example-queries",
    "href": "files/loitering.html#example-queries",
    "title": "16  Loitering",
    "section": "16.5 Example queries",
    "text": "16.5 Example queries\n\nNeeds updating. Removed links until queries are updated/removed.\n\n\nloitering_carrier_basic.sql\nloitering_carrier_tracks.sql\nloitering_ex_carrier_list.sql\nloitering_overlap_encounters.sql\nanalysis-pew-ts-reports/rfmo/rfmo-yyyy: see queries folder for BQ data pull and analysis folder for data cleaning and analysis",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/loitering.html#related-content",
    "href": "files/loitering.html#related-content",
    "title": "16  Loitering",
    "section": "16.6 Related Content",
    "text": "16.6 Related Content\n\nCarrier Vessel Portal (CVP)",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Loitering</span>"
    ]
  },
  {
    "objectID": "files/gaps.html",
    "href": "files/gaps.html",
    "title": "17  Gaps",
    "section": "",
    "text": "17.1 Key Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/gaps.html#key-tables",
    "href": "files/gaps.html#key-tables",
    "title": "17  Gaps",
    "section": "",
    "text": "pipe_ais_v3_published.product_events_ais_disabling: Date-partitioned table of AIS intentional disabling events. This is a subset of the product_events_ais_gaps table that has a modified schema consistent with the other product_events_ tables largely used in products APIs. This is the primary table for analyses of AIS disabling.\npipe_ais_v3_published.product_events_ais_gaps: Date-partitioned table of AIS gap events of 6+ hours in duration. This table can be used to identify gap events that are currently ongoing (is_closed = False) but must be filtered to select AIS disabling events. Note: this table does not currently conform to the same schema of other product_event tables.\n\n\nNote: Using event views\nUse the product_events_{EVENT_TYPE} view version of rather than a specific product_events_{EVENT_TYPE}_vYYYYMMDD table if you want the most recent available date. However, if it’s important that an analysis be reproducible, you should use a specific version of the events table (e.g. product_events_{EVENT_TYPE}_vYYYYMMDD) so that it’s clear what data was used in the query.\n\n\nNote: Compatability views When event tables are updated daily, we must calculate if any events have changed from yesterday to today and to add those into the published_events_{EVENT_TYPE} table. The _v form of a table is created for this calculation. This “compatability view” is not to be used by anyone as it only exists for internal engineering purposes. Always use the published_events_{EVENT_TYPE} or proto_events_{EVENT_TYPE} (if still considered a prototype) view table rather than the published_events_{EVENT_TYPE}_v view. For example, if you want to look at port visits, use the published_events_gaps view table rather than the published_events_gaps_v view table.\n\n\n17.1.1 Secondary Tables\n\npipe_ais_v3_internal.proto_ais_off_events: Date-partitioned table of AIS positions that are followed by a 6+ hour gap in AIS signal\npipe_ais_v3_internal.proto_ais_on_events: Date-partitioned table of AIS positions that are preceeded by a 6+ hour gap in AIS signal\ngfw_research.sat_reception_smoothed_one_degree_v20210722: Monthly satellite AIS reception quality (modeled) for 2017-2020. This table is used to exclude AIS gaps from areas with unreliable AIS reception.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/gaps.html#data-description",
    "href": "files/gaps.html#data-description",
    "title": "17  Gaps",
    "section": "17.2 Data Description",
    "text": "17.2 Data Description\nAIS devices were designed to continually broadcast a vessel’s position in order to serve as a collision avoidance system. Indeed, it is not uncommon to observe hundreds or thousands of AIS positions for a vessel in a single day. Thus, when a vessel has an extended gap in AIS positions it can potentially indicate illegal behavior. However, for several reasons, not all AIS signals that are broadcast are received by satellite or terrestrial AIS receivers and it is not uncommon to observe transmission gaps in a vessel’s AIS signal that are many hours long. Satellites must be overhead and terrestrial receivers require line of sight to receive AIS messages. AIS messages may overlap in time, especially in areas of high vessel density, causing signal interference and preventing messages from being received by satellites. As a result, GFW records all AIS gap events over six hours (referred to as “naive gaps”) and then uses a set of filters to identify those gaps we believe to be caused by intentional AIS disabling.\n\n17.2.1 AIS gap events (“naive gaps”)\nThe product_events_ais_gaps table contains all 6+ hour gaps in the AIS data. These gap events are created by combining all events in the two internal precursor tables - proto_ais_off_events and proto_ais_on_events. The product_events_ais_gaps table includes all fields in each precursor table, as well as the is_closed field to indicate whether an AIS gap is currently ongoing. The table is date-partitioned on the gap_start field, allowing it to be filtered for AIS gap events that started on a specific date. Gaps in this table are considered “naive gaps” because additional filtering is required to identify gaps due to intentional disabling.\n\n17.2.1.1 AIS off/on events\nAIS off events are defined as an AIS position that is followed by a six hour gap and AIS on events are AIS position preceded by a six hour gap. Each day, the proto_ais_off_events and proto_ais_on_events tables are updated with new events that occur on that date. Both tables are date partitioned and should be filtered using the _partitiontime field.\n\n\n\n17.2.2 AIS disabling events\nTo identify AIS gaps that are most likely due to intentional disabling rather than technical issues, GFW developed a classification model based on the following rules, which are explained in more detail in the Caveats and Known Issues section:\n\nThe gap event must be at least 12 hours\nThe gap must start at least 50 nautical miles from shore\nThe gap must start in an area with a satellite reception quality greater than 10 positions per day\nThe vessel must have at least 14 satellite positions in the 12 hours prior to the gap\n\nThe product_events_ais_disabling table applies these filters to restrict to AIS gaps that are likely AIS disabling events. These filters are not perfect, however, and analysts may consider slightly relaxing certain filters (e.g. distance from shore) if they want to capture potential disabling events of lower confidence.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/gaps.html#caveats-and-known-issues",
    "href": "files/gaps.html#caveats-and-known-issues",
    "title": "17  Gaps",
    "section": "17.3 Caveats and Known Issues",
    "text": "17.3 Caveats and Known Issues\n\n17.3.1 Reception quality for disabling events not updated past 2020\nThe layer of satellite reception quality used to identify potential AIS disabling events has not been updated for data past 2020. AIS satellite reception has improved significantly in recent years, and dynamic AIS data has further complicated our understanding of AIS reception in relation to AIS disabling.\n\n\n17.3.2 Gap events less than 50 nautical miles from shore are unreliable due to differences in satellite and terrestrial AIS\nSatellite AIS reception generally decreases closer to shore as high vessel densities lead to signal interference. At the same time, &gt;99% of GFW’s terrestrial AIS messages are less than 50 nautical miles from shore - generally the upper range of terrestrial AIS receivers - and terrestrial AIS coverage varies considerably around the world. Through a combination of these factors, AIS gaps that start within 50 nautical miles could be due to numerous technical reasons, such as:\n\nTransitioning from areas with terrestrial AIS coverage to poor satellite AIS reception\nPoor satellite reception while approaching port followed by turning off AIS upon arrival. These situations are likely responsible for many of the very long AIS gaps (e.g. several months) in the data\n\n\n\n17.3.3 Gaps shorter than 12 hours are unreliable due to satellite periodicity\nThe number of satellites over the horizon at different places on earth varies considerably hour to hour. At all latitudes under 60, the major peak is at 12 hours (one half a day) and the standard deviation of the number of satellites overhead is very high when considering time periods under 12 hours. For this reason, only gaps &gt;= 12 hours can be considered intentional disabling events. The 12 hour threshold accounts for the approximate amount of time required for the swath of an individual AIS satellite in a sun-synchronous orbit to cover the same location.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/gaps.html#example-queries",
    "href": "files/gaps.html#example-queries",
    "title": "17  Gaps",
    "section": "17.4 Example Queries",
    "text": "17.4 Example Queries\n\nais_disabling_published_events.sql: Get all (completed) likely AIS disabling events during a certain period.\nais_disabling_published_events_fishing_vessels.sql: Get all (completed) likely AIS disabling events by fishing vessels during a certain period.\nais_disabling_ongoing_events.sql: Get all likely AIS disabling events that are currently ongoing (e.g. is_closed = false). This query demonstrates how to combine naive gap events with reception quality to identify likely disabling events in the way gaps in the product_events_ais_gaps table are added to the product_events_ais_disabling table.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/gaps.html#links",
    "href": "files/gaps.html#links",
    "title": "17  Gaps",
    "section": "17.5 Links",
    "text": "17.5 Links\n\nAIS Gaps Training Slides",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>Gaps</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html",
    "href": "files/anchorages-voyages-port-visits.html",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "",
    "text": "18.1 Key Tables\nThe tables associated with ports and voyages include the following:",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html#key-tables",
    "href": "files/anchorages-voyages-port-visits.html#key-tables",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "",
    "text": "anchorages.named_anchorages_vYYYYMMDD - GFW database of ports/anchorages. Includes the name and location of all ports/anchorages as well as summary stats regarding anchorage at the time of creation.\ngfw_research.named_anchorages - View of most the recent version of anchorages.named_anchorages_vYYYYMMDD\npipe_ais_v{PIPE_VERSION}_internal.raw_port_events_* - Port events by seg_id. Each port activity by a vessel (e.g. port entry, port exit) recorded in a single row.\npipe_ais_v{PIPE_VERSION}_published.port_visits - Port visits by vessel. Includes confidence value to filter by port visits of interest. All events in a port visit are included in the events array.\npipe_ais_v{PIPE_VERSION}_published.product_events_port_visit_v2 - Port visits table used in the API and map, limited to confidence &gt;=2. Does not include nested information on individual port events, but does have information on start, intermediate, and end anchorage within the port visit.\npipe_ais_v{PIPE_VERSION}_internal.voyages_c2 - Voyages by vessels with a port visit confidence of &gt;=2. Includes the departure time and id for the departure anchorage and the arrival time and id for the destination anchorage.\npipe_ais_v{PIPE_VERSION}_published.voyages_c3 - Voyages by vessels with a port visit confidence of &gt;=3. Includes the departure time and id for the departure anchorage and the arrival time and id for the destination anchorage.\npipe_ais_v{PIPE_VERSION}_published.voyages_c4 - Voyages by vessels with a port visit confidence of 4. Includes the departure time and id for the departure anchorage and the arrival time and id for the destination anchorage.\n\n\nNote Always use the product_events_x view version of a table rather than published_events_x_v (for example, if you want to use pipe_ais_v3_published.product_events_port_visit_v2 then use that view rather than pipe_ais_v3_published.product_events_port_visit_v2_20250611. The _v form of a published events table only exists for internal engineering purposes. When the tables are updated daily we must calculate if any events have changed from yesterday to today and to add those into the product_events. The _v form of a table is created for this calculation, but is not to be used by anyone.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html#data-description",
    "href": "files/anchorages-voyages-port-visits.html#data-description",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "18.2 Data Description",
    "text": "18.2 Data Description\nThere are three primary forms of port activity data - events, visits, and voyages. They are described here briefly from the rawest to the most processed form.\nNote that all data points involve anchorage_points for visits and to convert to what more broadly would be considered “ports” additional aggregation will be needed, likely by grouping using gfw_research.named_anchorages, specifically the label and iso3 fields.\n\n18.2.1 Port Events:\nPort events data are stored in the raw_port_events table. There are four different types of port events: PORT_ENTRY, PORT_STOP, PORT_GAP, PORT_EXIT.\nA PORT_ENTRY event occurs when a vessel gets within 3 km of an anchorage point and a PORT_EXIT event occurs when it exceeds 4 km. These points can be considered changes in state, between “AT SEA” and “IN PORT”. The use of two different limits for entry and exit, prevents a vessel from sitting at a single entry/exit boundary and repeatedly falsely entering and exiting the port.\nNested between a PORT_ENTRY and a PORT_EXIT, a vessel may have a PORT_STOP or PORT_GAP or both (these events require a state = “in port”), though these events don’t necessarily occur. A PORT_STOP_BEGIN occurs when the vessel is “in port” and the vessel’s speed drops under 0.2 knots and PORT_STOP_END occurs when the speed climbs over 0.5 (thus PORT_STOPs may a start and an end.\nA GAP_EVENT occurs when a vessel is in “in_port” and has a &gt;4 hour AIS gap. The start (GAP_EVENT_BEGIN) of the gap is recorded at 4 hours after the last message before the gap and the end (GAP_EVENT_END) is recorded at the time of the message that ends the gap.\nAs stated previously, not every PORT_ENTRY/PORT_EXIT pair will exhibit a PORT_GAP or a PORT_STOP. These events may not occur if an AIS signal is not seen in port (the AIS may be turned off such that we cannot detect a PORT_STOP or an AIS gap in port may be less than 4 hours).\n\n\n18.2.2 Port Visits:\nPort visits represents a second dataset built on the Port Events. Port Visits differ in that visits are generated based on the series of port events for a given vessel. This processed dataset is valuable because the events it contains require some evidence that the vessel actually spent time within the port. Vessels can have variable AIS transmission when entering port. For example, a vessel may have a series of PORT_ENTRY/PORT_EXIT events when transiting along a coastline, but never actually visit those ports. However, a PORT_ENTRY/PORT_EXIT event may also indicate a real port visit of interest where perhaps the vessel’s speed didn’t drop enough to trigger a PORT_STOP. The use of confidence levels in Port Visits allows a user to view all possible grouped port events, but also decipher what type of visits they want to eliminate from the analysis. In the past, all Port Visits had a confidence of 4 to eliminate possible false positives.\n\n\n18.2.3 Voyages:\nVoyages are a further processed dataset as they represent two port visits that bracket a transit or voyage. Voyages connect two Port Visits (as described above), but have no other requirements. Thus voyages can vary significantly in length as well as the time a vessel spends in either the starting or ending port. Note that you should use the voyages table that corresponds to the confidence level you have restricted port visits to. For instance, if you set port visit confidence &gt;= 3, then you should use the voyages_c3 table that shows voyages where both the start and end port visit had a confidence of &gt;=3.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html#caveats-known-issues",
    "href": "files/anchorages-voyages-port-visits.html#caveats-known-issues",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "18.3 Caveats & Known Issues",
    "text": "18.3 Caveats & Known Issues\n\n18.3.1 Port Events:\n\nThese events use seg_id as the vessel identifier and may need to be mapped to vessel_id for broader use.\n\n\n\n18.3.2 Port Visits:\n\nPort visits with a confidence of 1 may identify port entry/exit for vessels transiting near anchorages, without stopping, and thus are largely false positives where a vessel transits nearby an anchorage. Therefore, it is recommended that unless you are in a very exploratory stage, you should set confidence to at least 2. *Generally confidence of 4 will capture most port visits (see notes below)\nLooking at all confidence &gt;=2port visits:\n13.4% - confidence 2\n8.6% - confidence 3\n78.0% - confidence 4\nExamining all confidence &gt;=2 ports visits by carrier/fishing vessels within the last 3 years to Abidjan, Côte d’Ivoire:\n0.02% - confidence 2\n0.05% - confidence 3\n99.3% - confidence 4\nThere are more low confidence visits when looking at all data, because ‘noisy’ vessels dominate the results, but when filtering to a tidier vessel list there is considerably less ‘noise’. However, even small percentages can provide key insight into voyage history.\nThese events use vessel_id as vessel identifier and may need to be mapped to SSVID for broader use by using for example PVIS (product_vessel_info_summary).\nPort visits are regenerated daily, so a vessel’s historical port visits may change as new data is added, the way the assignment of seg_id to vessel_id changes over time, or noise filters mutate (e.g. from overlapping_and_short = FALSE to overlapping_and_short = TRUE or vice versa). This means that port visits may change over time so it is recommended to use the most recent version of the port visits table. This happens particularly during the first few days or even weeks of a new port visit and much more often for lower confidence port visits than confidence 4 port visits (which by definition have ended).\n\n\n\n18.3.3 Voyages\n\nThese events use port visits and have similar caveats.\n\nThere are three tables of voyages based on a minimum confidence value for the start or end port visits of a voyage.\nThese tables require a minimum port visit confidence of 2",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html#example-queries",
    "href": "files/anchorages-voyages-port-visits.html#example-queries",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "18.4 Example queries",
    "text": "18.4 Example queries\n\nproto_voyages_and_anchorages.sql\nproto_port_visits_and_events_example.sql\nproto_voyages_merge_loitering.sql",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/anchorages-voyages-port-visits.html#links",
    "href": "files/anchorages-voyages-port-visits.html#links",
    "title": "18  Anchorages, Voyages and Port Visits",
    "section": "18.5 Links",
    "text": "18.5 Links\n\nTraining Slide Deck",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>Anchorages, Voyages and Port Visits</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html",
    "href": "files/fishing-events.html",
    "title": "19  Fishing Events",
    "section": "",
    "text": "19.1 Key Tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#key-tables",
    "href": "files/fishing-events.html#key-tables",
    "title": "19  Fishing Events",
    "section": "",
    "text": "world-fishing-827.pipe_ais_v3_published.fishing_events - Internal. Fishing events logic, described in Data Description section, applied to least restrictive list of fishing vessels (eg when potential_fishing OR on_fishing_list_sr)\nworld-fishing-827.pipe_ais_v3_published.product_events_fishing - Fishing events displayed in products. Fishing events logic, described in ’Data Description` applied to vessels when they are indicated as fishing vessels in GFW products (eg when prod_shiptype = “fishing”)\n\n\nNote Always use the product_events_x or proto_events_x (if still considered a prototype) view version of a table rather than product_events_x_v (for example, if you want to use pipe_ais_v3_published.product_events_fishing then use that view table rather than pipe_ais_v3_published.product_events_fishing_v. The _v form of a product events table only exists for internal engineering purposes. When the tables are updated daily we must calculate if any events have changed from yesterday to today and to add those into the product_events. The _v form of a table is created for this calculation, but is not to be used by anyone.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#source-tables",
    "href": "files/fishing-events.html#source-tables",
    "title": "19  Fishing Events",
    "section": "19.2 Source Tables",
    "text": "19.2 Source Tables\nSee the Details tab in BigQuery for this information.\n\n\n\nFishing events BQ source tables",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#data-description",
    "href": "files/fishing-events.html#data-description",
    "title": "19  Fishing Events",
    "section": "19.3 Data Description",
    "text": "19.3 Data Description\nThe current Fishing Events are constructed through the following steps. Step 1 applies the standard noise filter; Step 2 groups fishing positions together; Step 3 breaks events up events if AIS positions are too spatially or temporally far away to be reasonably related; Step 4 joins fishing events separated by non-fishing if the events are spatially and temporally close together; Steps 5 and 6 filter out likely false or noisy fishing events.\n\nApplies standard noise filter e.g. good_segment AS (SELECT seg_id FROM world-fishing-827.gfw_research.pipe_v20201001_segs WHERE good_seg AND positions &gt; 10 AND NOT overlapping_and_short)\nGroups consecutive fishing positions in the same seg_id. Night_loitering score is used in place of neural net score for squid jigger vessels.\nSeparates long events defined as consecutive fishing positions separated by more than 10 km OR 2 hours apart in the same seg_id.\nJoins close events defined as fishing events separated by non-fishing positions but within 1 hour AND 2 km of another fishing event\nFilters out short events defined as events shorter than 20 minutes OR with 5 or fewer ais positions OR with event distance of less than 0.5 km (50 meters for squid)\nFilters out fast moving vessel events defined as events with average vessel speed of 10 knots per hour or greater",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#fishing-events-versus-apparent-fishing-effort",
    "href": "files/fishing-events.html#fishing-events-versus-apparent-fishing-effort",
    "title": "19  Fishing Events",
    "section": "19.4 Fishing events versus apparent fishing effort",
    "text": "19.4 Fishing events versus apparent fishing effort\n\n\n\n\n\n\n\n\n\nCategory\nDescription\nLogic\nVessels meeting the criteria\n\n\n\n\nLeast Restrictive Fishing Events\nFishing events query logic applied to vessels in PVIS table during any year where potential_fishing OR on_fishing_list_sr.Intended for internal use, where an analyst or researcher knows a vessel is a fishing vessel and wants to see the fishing events for the vessel, but the vessel is not identified as a fishing vessel in Products.\n(1) Applies standard noise filter: filters segments by criteria (good_seg, positions &gt; 10, not overlapping or short). (2) Groups consecutive fishing positions in seg_id. (3) Splits events separated by &gt;10 km or &gt;2 hours. (4) Joins events within 1 hr & 2 km of another. (5) Removes short events (&lt;20 min, &lt;5 AIS positions, &lt;0.5 km distance) and fast-moving vessels (speed &gt; 10 knots). Applied to vessels WHERE potential_fishing OR on_fishing_list_sr.\nSELECT DISTINCT vessel_id, year FROM pipe_ais_v3_published.product_vessel_info_summary WHERE potential_fishing OR on_fishing_list_sr\n\n\nFishing Events Used in Products\nFishing events query logic applied to vessels in PVIS table during any year where prod_shiptype = ‘fishing’.Intended for product use, where the sources of data available indicate the vessel is a fishing vessel and there is little or no conflicting information.\nSame logic as Least Restrictive Fishing Events applied to a more restrictive list of vessels - WHERE prod_shiptype = ‘fishing’.                                                                                                                                                                         |SELECT DISTINCT vessel_id, year FROM pipe_ais_v3_published.product_vessel_info_summary WHERE prod_shiptype = ‘fishing’| | **Apparent Fishing Effort (in Map)**          | Incorporates apparent fishing positions from gridded fishing effort layer in map view for years where vessels meet both the “Fishing Events Used in Products” criteria and noise filter requirements.                                                                                                                             | Includes all criteria and filters as specified in the **Fishing Events Used in Products** logic AND includes additional noise filters.                                                                                                                                                                                                                                                                           |SELECT DISTINCT vessel_id, year FROM pipe_ais_v3_published.product_vessel_info_summary WHERE prod_shiptype = ‘fishing’ AND NOT offsetting AND (overlap_hours_multinames &lt; 24 OR overlap_hours_multinames IS NULL) AND (shipname_count &lt;= 5 OR shipname_count IS NULL) AND fishing_hours &gt; 24 AND active_hours &gt; 24*5 AND CAST(ssvid AS int64) NOT IN (SELECT ssvid FROM source_research_bad_mmsi, UNNEST(ssvid) as ssvid) AND (best_vessel_class != ‘gear’ OR best_vessel_class IS NULL)`\n\n\n\n\nWhat is the difference between the apparent fishing effort layer and the fishing events in the vessel track? FAQ",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#caveats-and-known-issues",
    "href": "files/fishing-events.html#caveats-and-known-issues",
    "title": "19  Fishing Events",
    "section": "19.5 Caveats and Known Issues",
    "text": "19.5 Caveats and Known Issues\nAccuracy of events:\n\nIf a vessel uses a recycled MMSI, or if another vessels transmits the same MMSI, then the models used to determine if a vessel is likely a fishing vessel may have reduced accuracy. It is important to verify that the vessel you are interested in is identified as a fishing vessel. See PVIS gitwiki for more guidance on this.\nSimilarly, if a vessel is identified as a fishing vessel when it should not be, then the PVIS gitwiki should be reviewed to support investigation.\nThe fishing events logic is applied in the same way for all vessels (with squid jiggers as an exception). Given fishing behavior can look very different, the accuracy of applying the identical logic for grouping fishing positions could have limited accuracy. Subsequently, the count of individual events should be viewed as arbitrary. For greater context, fishing events were developed for grouping positions visually on the map, and for isolating and removing positions identified as unlikely to actually be fishing (events that are too short, or where the vessel is moving too quickly, or where the previous and subsequent positions associated with the vessel are not frequent enough to suggest identification of fishing behavior can be identified meaningfully).\n\nDiscrepancies between fishing events and apparent fishing effort:\n\nFishing events and apparent fishing effort are not perfectly aligned. Given Fishing Events and Fishing Efforts both appear in the GFW Map, this may lead to discrepancies on the public map on occasion (eg Fishing effort cells appearing on GFW map but no fishing events). See Fishing Event Tech Call slide deck in supplementary materials for a comparison of fishing events and pipefishing (eg fishing effort). In future pipeline versions and updates to the public map effort may be made to make fishing events and fishing effort data align.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#example-queries-needs-to-be-updated-to-reflect-pipe-3.0-data-tables",
    "href": "files/fishing-events.html#example-queries-needs-to-be-updated-to-reflect-pipe-3.0-data-tables",
    "title": "19  Fishing Events",
    "section": "19.6 Example Queries (needs to be updated to reflect pipe 3.0 data tables)",
    "text": "19.6 Example Queries (needs to be updated to reflect pipe 3.0 data tables)\n\npublished_fishing_events_and_pipe_comparison.sql\npublished_fishing_events_in_polygon_w_vessel_info.sql\npublished_fishing_events_by_position_in_polygon.sql\npublished_events_unnest_auth_info.sql - This query is to help reduce barriers with pulling information out of the published event table format (which can be tricky!). While I focus on pulling information on authorization, this example query is a great reference for any time you want to extract information nested in the vessel_info or event_info fields.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#links",
    "href": "files/fishing-events.html#links",
    "title": "19  Fishing Events",
    "section": "19.7 Links",
    "text": "19.7 Links\n\nWhat is the difference between the apparent fishing effort layer and the fishing events in the vessel track? FAQ\n(likely outdated) Fishing Effort and Events training slide deck link HERE\n(likely outdated) Fishing Event Tech Call slide deck link HERE",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/fishing-events.html#updates",
    "href": "files/fishing-events.html#updates",
    "title": "19  Fishing Events",
    "section": "19.8 Updates",
    "text": "19.8 Updates\nLast updated on Oct 30th, 2024\n\n[August 2024] Pipeline 3.0 released in Products alongside DeckGL release. This marks official shift to using the pipe_ais_v3_published.product_events_fishing table, and retiring the pipe 2.5 fishing events table for both internal/staff and external users.\n[2024 - Pipeline 3.0] In Pipeline 3.0, published_events_fishing_v2 renamed to product_events_fishing. A second table of fishing events with a less restrictive list of potential fishing vessels was created in pipe 3 as well. This table is named fishing_events. Both tables are in pipe_ais_v3_published bin. Both tables use the exact same logic. The only difference is the list of vessels the query is run on.\n[October 2023] The published_events_fishing was re-run on an expanded list of fishing vessels using information from the all_vessels_v2 table. Now vessels that are on_fishing_list_best, on_fishing_list_inferred, on_fishing_list_known, or on_fishing_list_sr have fishing events populated. This means that to reproduce the fishing events in Products, the fishing events table will need to be filtered for vessel_ids which are prod_shiptype = fishing in the all_vessels_v2 table.\n[May 2023] The proto_events_fishing table which was used in Products was updated to the published_events_fishing table, and the proto_events_fishing table was removed in June 2023. The published events fishing table now includes information on vessel authorization status, consistent with how authorization status is determined in vessel encounters.\n[Spring 2023] Authorization information is now included for fishing events, following the same logic as encounters for determining authorization status. Note, authorization information is limited to 7 RFMOs (5 tuna RFMOs, NPFC, and SPRFMO).\n[August 24 2021] In the previous version for fishing events (prior to world-fishing-827.pipe_production_v20201001.proto_events_fishing) fishing events were more simply defined. Events were created if consecutive AIS points were considered ‘fishing’ by the neural net, and fishing events were grouped if they were only separated in time by a short duration (e.g., 10 minutes). There were no restrictions to remove likely noise nor to separate events made of AIS positions in different seg_id’s.",
    "crumbs": [
      "Events",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>Fishing Events</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html",
    "href": "files/sar-object-detections.html",
    "title": "20  SAR Object Detections",
    "section": "",
    "text": "20.1 1st Release (2022-06-08)\nWhat to know regarding this preliminary release:\n1 Future releases will include all offshore infrastructure\n2 Future releases will include detections from 2015/2017 onward\nLink to Map\nLink to Data",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#st-release-2022-06-08",
    "href": "files/sar-object-detections.html#st-release-2022-06-08",
    "title": "20  SAR Object Detections",
    "section": "",
    "text": "Fixed objects like infrastructure have been removed, so only vessels 1\nDetections refer, for the most part, to fishing and non-fishing vessels\nLarge areas with significant sea ice and icebergs have been excluded (high latitudes)\nFalse positives (noise) have been filtered out with ML (this is not perfect)\nDetections have been matched to available vessels with AIS\nDetections are classified and separated as matched and unmatched\nDetections are computed with a delay of 72 hours, and tables updated daily\nDetections are available globally from January 1st 2022 onward 2\nDetection footprints (area of the ocean scanned) are also provided",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#key-concepts",
    "href": "files/sar-object-detections.html#key-concepts",
    "title": "20  SAR Object Detections",
    "section": "20.2 Key Concepts",
    "text": "20.2 Key Concepts\n\nData point: individual detection of maritime object from a single SAR scene\nPolygon: outline of the valid area within the SAR scene used for detection\nMatched: individual detection has been paired with a specific AIS message",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#key-tables",
    "href": "files/sar-object-detections.html#key-tables",
    "title": "20  SAR Object Detections",
    "section": "20.3 Key Tables",
    "text": "20.3 Key Tables\nBQ: world-fishing-827.proj_sentinel1_v20210924\n\ndetect_scene_raw_YYYYMMDD - id, lon, lat, time from Earth Engine detections\ndetect_foot_raw_YYYYMMDD - id, time, wkt-polygon from Earth Engine scene footprints\ndetect_scene_pred_YYYYMMDD - id, presence, length from machine learning prediction\ndetect_scene_match - id, matching-info, vessel-info from matching algorithm",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#key-fields",
    "href": "files/sar-object-detections.html#key-fields",
    "title": "20  SAR Object Detections",
    "section": "20.4 Key Fields",
    "text": "20.4 Key Fields\n\nscene_id - ID of Sentinel-1 scene from where detections were extracted\ndetect_id - ID unique to every detection, composed as scene_id;lon;lat\ndetect_lon - longitude coordinate\ndetect_lat - latitude coordinate\ndetect_timestamp - time the image was taken\nssvid - vessel identifier if the detection matches to AIS/VMS\nscore - score cutoff used to match the detection\nconfidence - confidence cutoff used to match the detection\npresence - probability of vessel presence from a Conv Neural Net\nlength_m - length estimated with a Conv Neural Net\nfootprint_wkt - WKT multipolygon of image area used for detection\nvar1/var2 - vessel info before and after the SAR image used for matching",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#key-buckets",
    "href": "files/sar-object-detections.html#key-buckets",
    "title": "20  SAR Object Detections",
    "section": "20.5 Key Buckets",
    "text": "20.5 Key Buckets\nGCS: Data output from Earth Engine used to produce the BQ Tables:\nDetections: gs://gfw-production-sentinel1-detection-gee/v20210924/&lt;date&gt;\nFootprints: gs://gfw-production-sentinel1-detection-footprints/v20210924/&lt;date&gt;\nThumbnails: gs://gfw-production-sentinel1-detection-thumbnails/v20210924/&lt;date&gt;",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#data-description",
    "href": "files/sar-object-detections.html#data-description",
    "title": "20  SAR Object Detections",
    "section": "20.6 Data Description",
    "text": "20.6 Data Description\nThe data tables contain all detections from 2017-01-01 to present, updated intermittently. Imagery availability increases along data acquisition timeframe, especially from mid-2016 on. Vessels are extracted from single scenes while fixed infrastructure is extracted from 6-month median composites, constructed every month with a moving window. Detection was performed on Google Earth Engine with a Constant False Alarm Rate (CFAR) algorithm using the GRD product, Interferometric Wide Mode, VH band at 20 m resolution. Vessel classification to identify noise and regression to estimate length was performed with a Convolutional Neural Network using both the VH and VV bands.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#caveats-known-issues",
    "href": "files/sar-object-detections.html#caveats-known-issues",
    "title": "20  SAR Object Detections",
    "section": "20.7 Caveats & Known Issues:",
    "text": "20.7 Caveats & Known Issues:\n\nSentinel-1 does not take images over the open ocean, mostly near coastal waters\nspatial coverage is not homogeneous, e.g. European waters are imaged more frequently\ntemporal coverage is not homogenous, e.g. 2017 has less area covered than 2021\nsome missing days, e.g. in 2016, is due to no images available over the ocean\nSentinel-1B stopped operating on 2021-12-23, reducing daily images from ~400 to ~250\nsea ice and icebergs, at high latitudes, are known to introduce false positives\nimages prior 2018 are of lower quality, introducing potential false positives",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#example-queries",
    "href": "files/sar-object-detections.html#example-queries",
    "title": "20  SAR Object Detections",
    "section": "20.8 Example Queries",
    "text": "20.8 Example Queries\n\nSAR_dark_vessel_locations.sql\nSAR_dark_vessels_eezs.sql\nSAR_matched_vessels.sql",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/sar-object-detections.html#additional-information",
    "href": "files/sar-object-detections.html#additional-information",
    "title": "20  SAR Object Detections",
    "section": "20.9 Additional Information",
    "text": "20.9 Additional Information\n\nSAR Detection Slides\nTechnology Video\nDetection GEE Code\nMachine Learning Code\nMatching Algorithm Code\nMatching Algorithm paper",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>20</span>  <span class='chapter-title'>SAR Object Detections</span>"
    ]
  },
  {
    "objectID": "files/satellite-timing-offset-table.html",
    "href": "files/satellite-timing-offset-table.html",
    "title": "21  Satellite Timing Offset",
    "section": "",
    "text": "21.1 Key Tables",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>21</span>  <span class='chapter-title'>Satellite Timing Offset</span>"
    ]
  },
  {
    "objectID": "files/satellite-timing-offset-table.html#key-tables",
    "href": "files/satellite-timing-offset-table.html#key-tables",
    "title": "21  Satellite Timing Offset",
    "section": "",
    "text": "pipe_ais_v3_published.satellite_timing_offsets: Hourly table by satellite receiver indicating how far off (in seconds) the satellite’s clock is from the consensus (median) of all satellite clocks. The tabl also includes summary fields of the number of AIS pings received from the satellite and the distance of the vessels from the satellite.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>21</span>  <span class='chapter-title'>Satellite Timing Offset</span>"
    ]
  },
  {
    "objectID": "files/satellite-timing-offset-table.html#data-description",
    "href": "files/satellite-timing-offset-table.html#data-description",
    "title": "21  Satellite Timing Offset",
    "section": "21.2 Data Description",
    "text": "21.2 Data Description\nFor Spire’s satellite clocks there are two effects that we’ve seen. One is a steady, slow drift over time. This is rarely an issue since the clocks are periodically reset. The second effect is a sudden, large jump in clock’s time which I suspect is due to bit flips in the clocks due to cosmic rays or similar unfriendly particles. This can offset the clock anywhere from minutes to days (about two days is the largest I’ve seen) and results in some very confusing tracks.\nIn order to estimate the clocks offset we compare the times from clocks on all of the satellites we have IDs for by looking at signals from vessels that are broadcast closely in time and and received by different satellites. By using the vessels location, course and speed we can estimate the time between when each signal was broadcast. Comparing this to the difference in the message timestamps gives an estimate of how far off the timestamps are for a pair of satellites. By looking across many vessels and pairs of satellites we derive estimate for how far off the clock for each satellites is from the consensus timestamp, that is the median of all the satellite clocks.\nThis table is used to automatically drop all the messages from satellites with clocks that are off by more than 30 s (I need to check that), this happens on an hour by hour basis. This only applies to Spire. The messages are dropped because they really mess up the tracks particularly when the clocks get really off. When you really notice is when two receivers are getting messages and one is a few minutes off, the boat periodically appears to move backward and forward in space when you map it, although it’s really the timestamps are off and the position information is fine. Often the segmenter will drop these into their own bad segment, but not always.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>21</span>  <span class='chapter-title'>Satellite Timing Offset</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html",
    "href": "files/s2-vessel-detections.html",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "",
    "text": "23 About Sentinel-2 vessel detections\nSentinel-2 images are taken globally by satellites in the Copernicus Sentinel-2 mission of the European Space Agency (ESA), mostly covering coastal regions with a 5-day revisit frequency. The image resolution is 10 meters. The satellites operate in a sun-synchronous orbit, which means they always revisit the same area around at same time (around Mean Local Solar Time of 10:30 am). Our vessel detection model uses the RGB and Near Infra-Red bands of the imagery. Currently the data in global-fishing-watch.pipe_sentinel2_v1_published ranges from 2019-01-01 to present, and will be backfilled to 2017 in the near future.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#description-of-tables",
    "href": "files/s2-vessel-detections.html#description-of-tables",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "24.1 Description of tables",
    "text": "24.1 Description of tables\n\ndetect_scene_match_pipe_v3: The “clean” table that contains all the detections except the identified duplicates (read more), their inferred properties like vessel length and speed, their matching results with AIS data, and other context or inferred properties that can be useful for further data filtering (read more).\nKey fields to join other tables: detect_id, scene_id, (detect_lat, detect_lon), detect_timestamp, date\ndetect_foot_raw: This table stores the footprint geometries of individual Sentinel-2 scenes downloaded from the Google Cloud Storage public datasets.\nKey fields to join other tables: scene_id, image_timestamp(equivalent to detect_timestamp in detect_scene_match_pipe_v3), date\ndetect_scene_raw: This table stores all the raw Sentinel-2 vessel detections and their inferred properties like vessel length and speed without any filters applied.\nKey fields to join other tables: detect_id, scene_id, (lat, lon)(equivalent to (detect_lat, detect_lon) in detect_scene_match_pipe_v3), date\nfishing_classification: This table stores the results of the secondary classifier applied to the 1km2 thumbnails of individual detections. The classification results provide the scores representing the likelihood of each detection being a fishing vessel, a non-fishing vessel, and a non-vessel noise. Currently, only the scores of non-vessel noise are published with the release. The fishing/non-fishing scores are only available internally.\nKey fields to join other tables: detect_id, date\naux_rasters_h3_7: This table stores the imaging conditions of each Sentinel-2 scene at the resolution of level-7 H3 cells, including the cloudiness, sun angles, and satellite view angles.\nKey fields to join other tables: scene_id, h3_id, date\ns2_overpass: This table contains the monthly summary of Sentinel-2 satellite overpass and properties like average cloudiness at level-7 H3 cells. It helps understanding the coverage and effective revisit frequency at both global and regional scales. It is also useful for analyzing the detection data, such as calculating the mean vessel density at each satellite overpass (read more).\nKey fields to join other tables: h3_id, month\n\nAll the tables are partitioned daily by the date field, except s2_overpass which is a monthly summary and partitioned by the month field.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#understanding-the-key-fields-to-correctly-join-the-tables",
    "href": "files/s2-vessel-detections.html#understanding-the-key-fields-to-correctly-join-the-tables",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "24.2 Understanding the key fields to correctly join the tables",
    "text": "24.2 Understanding the key fields to correctly join the tables\nThe figure below illustrates the structure of and relationship between different key fields shared by the tables. Understanding how they are connected is the key to correctly join these table for any analysis.\n\nThe two rules for joining two tables are:\n\nAll the key fields they share need to match.\nIf key field A explicitly or implicitly contains key field B, then B can be neglected in joining.\n\nFor example:\n\ndetect_scene_match_pipe_v3 and detect_foot_raw share scene_id, image_timestamp/image_timestamp, and date. However, scene_id implicitly contains the other fields, so we only need to join them on scene_id.\ndetect_scene_match_pipe_v3 and aux_rasters_h3_7 share scene_id, date, and (detect_lat, detect_lon)↔︎h3_id, so we need to join them on\ndetect_scene_match_pipe_v3.scene_id = aux_rasters_h3_7.scene_id\nAND jslibs.h3.ST_H3(st_geogpoint(detect_lon, detect_lat),7) = h3_id",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#noise-removal",
    "href": "files/s2-vessel-detections.html#noise-removal",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "25.1 Noise removal",
    "text": "25.1 Noise removal\nFor most use cases, additional data filtering and cleaning is required. The filter for getting rid of likely non-vessel noises from detect_scene_match_pipe_v3, which is used for displaying detections on GFW Map, is\nother_score_nn &lt; 0.2 -- likely non-vessel according to the secondary classifier\nAND NOT potential_ice -- in a region and time with significant sea ice presence\nAND NOT likely_infrastructure -- spatially very close to known infrastructures\nObviously, none of these filters are perfect - they will likely remove some real vessels and miss some noises.\nIf you want to get a very clean set of detections and doesn’t care much about its completeness (e.g., to plot a pretty map), you can apply some additional filters explained below to further clean up the data.\nSentinel-2 images are affected by cloud, which both hides vessels underneath and creates false positives (small pieces of cloud can be detected as vessels). Therefore, one way to clean up the data is to filter out detections from cloudy parts of the images, e.g.,\ncloud_score &lt; 0.05 -- the level-7 h3 cell of the detection has &lt; 5% cloud cover\nOne way to further remove noises missed by the other_score_nn filter is to use the inferred vessel speed. While the Sentinel-2 detector can pick lots of vessel-like noises like white caps, near-shore structures, and rocks, most of these noises don’t appear to be moving with visible wakes. Therefore, if a detection is predicted to have substantial speed, it’s likely showing some signature of movement and thus likely a real vessel. Filtering the inferred speed is thus an effective way of reducing false positives, e.g.,\nspeed_kn_inferred &gt; 2 -- inferred speed &gt; 2 knots",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#fishingnon-fishing-classification",
    "href": "files/s2-vessel-detections.html#fishingnon-fishing-classification",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "25.2 Fishing/non-fishing classification",
    "text": "25.2 Fishing/non-fishing classification\nFor the 1km2 thumbnails of each individual detection, a secondary classifier is applied to classify the detection as fishing, nonfishing, or other. Each class is assigned with a score, and the scores of the three classes sum to 1. The classification results are stored in table fishing_classification. You can join the table with detect_scene_match_pipe_v3 using detect_id. The other_score_nn in detect_scene_match_pipe_v3 is equivalent to other in fishing_classification.\nAs discussed above, we typically use other_score_nn&lt;0.2 as a noise filter. Therefore, to get detections of likely fishing vessels, you can use\nother &lt; 0.2 AND fishing &gt; nonfishing\nin addition to any other noise filters mentioned above. You can also use stricter filters to get more confident results, e.g., fishing &gt; 0.9.\nAgain, please note that the current classification results are preliminary and there is ongoing improvement work for the classifier.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#caveats-of-inferred-properties",
    "href": "files/s2-vessel-detections.html#caveats-of-inferred-properties",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "25.3 Caveats of inferred properties",
    "text": "25.3 Caveats of inferred properties\nOur S2 vessel detections provide inferred vessel length (length_m_inferred), speed (speed_kn_inferred), and heading direction (heading_deg_inferred). While they can be very useful for various analysis, it is important to keep in mind their limitations.\nThe inferred vessel length is less accurate for smaller vessels, and the length of under-30m vessels are likely overestimated, as shown in the figure below. This limitation is the result of the 10-m image resolution, with which small vessels appear as just dots, making it difficult to infer accurate vessel lengths.\n\nThe inferred vessel speed shouldn’t be used an accurate measurement like the speed reported in the AIS data. The inferred speed is only a rough estimation based on what appear in the image, such as wakes. It’s probably good enough to tell whether a vessel is stationary, moving slowly, or moving fast, but certain not capable of telling for sure whether its speed is 2.6 knots or 3.7 knots.\nThe inferred heading direction has two major limitations. Small vessels without moving signatures appear as just dots and are thus difficult to infer heading directions. For larger vessels without moving signatures, it’s difficult to tell which end is the head. As a result, the inferred heading direction may be wrong by ~180 degrees.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/s2-vessel-detections.html#duplicate-detections",
    "href": "files/s2-vessel-detections.html#duplicate-detections",
    "title": "22  Sentinel-2 Vessel Detections",
    "section": "28.1 Duplicate detections",
    "text": "28.1 Duplicate detections\nNeighboring Sentinel-2 scenes overlap with each other, as shown by the figure below. As a result, vessels in the overlapping area got imaged twice or more in a short period of time (mostly a few seconds). Currently, our pipeline processes all the Sentinel-2 images without pre-cropping them to account for the overlapping parts. Therefore, the raw vessel detections (detect_scene_raw) contains essentially duplicate detections of the same vessel with different scene_id and probably slightly different inferred values.\n\nIn the data processing pipeline, we identify these duplicates by clustering spatially close detections with similar inferred length, speed, and heading directions under each satellite overpass swath. In each cluster, we only keep one detection and flag the others as duplicates.\nWith this method, we have effectively removed most of the duplicates in the final product. However, it is never perfect and it’s certainly possible to come across duplicates that slipped through.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>22</span>  <span class='chapter-title'>Sentinel-2 Vessel Detections</span>"
    ]
  },
  {
    "objectID": "files/viirs.html",
    "href": "files/viirs.html",
    "title": "23  VIIRS AIS matching",
    "section": "",
    "text": "24 Repository\nPlease look at README in the repository for how to update this table.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#key-tables-1",
    "href": "files/viirs.html#key-tables-1",
    "title": "23  VIIRS AIS matching",
    "section": "30.1 Key Tables",
    "text": "30.1 Key Tables\n\n30.1.1 Current version\n\npipe_viirs_production_v20220112.raw_vbd_global\n\nThis table contains all the VBDs including non-vessel detections.\npartitioned by Date_Mscan\n\npipe_viirs_production_v20220112.raw_vbd_global_without_noise\n\nThis table contains only true vessel detections. The noise removal query can be found here.\npartitioned by Date_Mscan\nThis table has a subset of columns from the raw_vbd_global table and some additional columns for the convenience of analysts. If you want columns not included in this table, you need to get it from raw_vbd_global table by joining with id_Key field.\n\n\n\n\n30.1.2 Older version\n\npipe_viirs_production_v20180723.raw_vbd_global\n\nGlobal VBD dataset.\n\npipe_viirs_production_v20180723.raw_vbd_redacted\n\nVBD dataset without detections around South America (see Caveats).\nNo need to use this table. Use VIIRS noise filter to avoid false detection around South America.\nNot updated since 2019-11-30",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#data-description",
    "href": "files/viirs.html#data-description",
    "title": "23  VIIRS AIS matching",
    "section": "30.2 Data Description",
    "text": "30.2 Data Description\nThe VBD dataset and underlying methods are outlined in the following publication:\nElvidge, C., Zhizhin, M., Baugh, K., & Hsu, F. C. (2015). An automatic boat identification system for VIIRS low light imaging data. Remote Sensing, 7(3), 3020-3036..\nGFW retains all VBD, including the following key fields:\n\nDate_Mscan: VBD pixel date-time at mid-point of DNB scan reported in Universal Time.\nid_Key: Unique VBD ID.\nLat_DNB: VBD pixel latitude from VIIRS DNB geolocation file.\nLon_DNB: VBD pixel longitude from VIIRS DNB geolocation file.\nDate_LTZ: VBD pixel date-time at mid-point of DNB scan adjusted to standard time in the local time zone (LTZ). No adjustments for Daylight Savings Time (DST) are made.\nEEZ: Exclusive Economic Zone for VBD pixel.\nFMZ: Fishery Management Zone for VBD pixel\nMPA: Marine Protected Area for VBD pixel\nRAD_DNB : The brightness (radiance) of the VBD pixel (Unit: nW/cm2/sr)\nQF_Detect: Integer quality flag for VBD pixel, yielding information about quality and type of detection.\n\n1: Strong detection. Detection surpassed all VBD threshold tests\n2: Weak detection. Detection did not pass SHI threshold test.\n3: Blurry detection. Detection did not pass SI threshold test.\n4: Gas flare. Detection has a concurrent Nightfire detection or is in the location of a known gas flare.\n5: False detection: Detection is from high-energy particles impacting the DNB sensor, usually due to the South Atlantic anomaly.\n6: False detection: Detection is from lunar glint.\n7: False detection: Detection is from atmospheric glow around bright sources.\n8: Recurring detection. Detection is in locations where boats are known to recur.\n9: False detection: Detection is from sensor crosstalk around extremely bright sources, usually flares.\n10: Weak and blurry detection. Detection did not pass either the SHI or SI threshold tests.\n11: Offshore platform. Detection is in the location of a known stable light.\n\nSATZ_GDNBO : Satelite Zenith Angle\nSOLZ_GDNBO: Sun Zenith Angle\nLUNZ_GDNBO: Moon Zenith Angle\n(See document on Colorado School of Mines: Earth Observation Group for a description of all the columns.)\n\nOther useful fields you can create from this table:\n\ndetect_id\n\nunique id for each record (VIIRS detection).\nUsing this key, you can join with VIIRS-AIS matching table.\nconcat(cast(Date_Mscan as string),concat(cast(Lat_DNB as string),cast(Lon_DNB as string))) as detect_id,\n\nOrbitNumber\n\nSingle overpass of VIIRS satellite (from North to South at night) can be distinguishable by OrbitNumber.\nThis field can be used to eliminate overlap between successive orbits.\nCAST(SUBSTR(File_DNB, 40,5) AS INT64) AS OrbitNumber,\n\nGranuleID\n\nThis field can be used to join with VIIRS footprint table and VIIRS cloud mask.\nA + Year (2017) + Day_of_the_year(001 ~ 365) + hour (00~24) + minutes (00 ~ 60)\nEach GranuleID is corresponding to 6 minutes time window. for example GranuleID = 'A2017001.0024' contains VIIRS detection from 2017-01-01 00:24 to 2017-01-01 00:30.\nCONCAT(\"A\", CAST(extract(YEAR from Date_Mscan) as STRING), LPAD(CAST(extract(DAYOFYEAR from Date_Mscan) as STRING), 3, \"0\"), \".\", LPAD(CAST(extract(HOUR from Date_Mscan) as STRING), 2, \"0\"), LPAD(CAST(DIV(extract(MINUTE from Date_Mscan), 6)*6 as STRING), 2, \"0\") ) as GranuleID",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#caveats-known-issues-1",
    "href": "files/viirs.html#caveats-known-issues-1",
    "title": "23  VIIRS AIS matching",
    "section": "30.3 Caveats & Known Issues",
    "text": "30.3 Caveats & Known Issues\n\n30.3.1 EEZ/FMZ/MPA\nThe EEZ/FMZ/MPA values in the VBD data are not modified by GFW and may differ from the AIS/VMS data (Verify this is the case).\n\n\n30.3.2 The South Atlantic Anomaly\nThe VIIRS contains a lot of false detection around South America, which is caused by the South Atlantic Anomaly (SAA). The SAA is an area where the Earth’s inner Van Allen radiation belt is at its lowest altitude, allowing more energetic particles from space to penetrate. When such a particle hits the sensors on board the satellite, it creates a false signal which might cause the VBD algorithm to recognize it as a boat detection.\nTo avoid false positives due to the South Atlantic Anomaly, we’ve developed a VIIRS noise filter.\n\n\n30.3.3 Overlapping detection\nVIIRS satellite may scan the same area twice a night, thus VIIRS may double count the same vessel. To avoid double-counting, you can select a single scan for each 1-degree grid for a night. See example query.\n\n\n30.3.4 Known data disruptions\n\nJune 28 to July 7, 2022: The Suomi NPP satellite experienced issues on June 28, 2022 that resulted in excessive edge noise in the day / night band. There’s an unusually high number of VBD in some regions (e.g., within Gabon, Pakistan, India, Myanmar, Taiwan, China, and a few other places in Africa, Mediterranean Sea, and Asia), on June 28 and 29 and significantly fewer detections (globally) after, until July 7th.\nJuly 26 to August 20, 2022: VIIRS Boat Detection data are not available from July 26 to August 20, 2022. The Suomi NPP satellite entered a non-nominal state during this period (announcement).",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#example-queries-1",
    "href": "files/viirs.html#example-queries-1",
    "title": "23  VIIRS AIS matching",
    "section": "30.4 Example queries",
    "text": "30.4 Example queries\n\nHow to extract VBDs from specific dates and areas?\nHow to eliminate double-counting from VIIRS?\nGet VIIRS detection in the squid fishing area\nJoin with VIIRS footprint\nJoin with VIIRS-AIS matching",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#related-tables-1",
    "href": "files/viirs.html#related-tables-1",
    "title": "23  VIIRS AIS matching",
    "section": "30.5 Related tables",
    "text": "30.5 Related tables\n\nVIIRS AIS matching\nVIIRS cloud mask\nVIIRS footprint\nLogic of VIIRS noise filter: eliminate VIIRS noise especially the South Atlantic Anomaly.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#updates",
    "href": "files/viirs.html#updates",
    "title": "23  VIIRS AIS matching",
    "section": "30.6 Updates",
    "text": "30.6 Updates\n\npipe_viirs_production_v20220112.raw_vbd_global\n\nMissing VBD issue in the previous version is solved for the dates after 2020-01-07. There may be still issues before the date.\n\npipe_viirs_production_v20180723.raw_vbd_global\n\nIt turns out that this table is missing some detections in the Asian region for some period.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#repository-2",
    "href": "files/viirs.html#repository-2",
    "title": "23  VIIRS AIS matching",
    "section": "42.1 Repository",
    "text": "42.1 Repository\nhttps://github.com/GlobalFishingWatch/viirs-footprint",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#key-tables-3",
    "href": "files/viirs.html#key-tables-3",
    "title": "23  VIIRS AIS matching",
    "section": "42.2 Key tables",
    "text": "42.2 Key tables\nCurrent version\n\nscratch_masaki.viirs_footprint_granule_v20210208\n\nOlder version\nnon",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#example-query-2",
    "href": "files/viirs.html#example-query-2",
    "title": "23  VIIRS AIS matching",
    "section": "48.1 Example query",
    "text": "48.1 Example query\nVIIRS contains many false detections, especially around South America. The example query linked below reduces the noise in South America. (but it may eliminate some prat of true detection as well as South Atlantic Anomaly)\nExample query\nThe filter basically adopts QF1,2,3,10 for outside of South America, while adopting some portion of QF1,2,3,5,7,10 based on the value of Rad_DNB and SHI.",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/viirs.html#repository-3",
    "href": "files/viirs.html#repository-3",
    "title": "23  VIIRS AIS matching",
    "section": "48.2 Repository",
    "text": "48.2 Repository\nThe filter was developed in the repository viirs-noise-filter.\nYou can see the visualization results we used to develop that filter in the link below.\nhttps://github.com/GlobalFishingWatch/viirs-noise-filter/blob/main/rendered_output/01_develop_viirs_noise_filter.md",
    "crumbs": [
      "Object Detection",
      "<span class='chapter-number'>23</span>  <span class='chapter-title'>VIIRS AIS matching</span>"
    ]
  },
  {
    "objectID": "files/country-codes.html",
    "href": "files/country-codes.html",
    "title": "24  Country Codes",
    "section": "",
    "text": "24.1 Key Table\ngfw_research.country_codes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>24</span>  <span class='chapter-title'>Country Codes</span>"
    ]
  },
  {
    "objectID": "files/country-codes.html#data-description",
    "href": "files/country-codes.html#data-description",
    "title": "24  Country Codes",
    "section": "24.2 Data Description",
    "text": "24.2 Data Description\nThis table provide a means of linking MID code values to ISO3 country codes and corresponding country names. It is also possible to ignore the MID code field and simply use this table to map ISO3 to country name, to produce easier to interpret country labels. The table also includes some specific characteristics of each country/flag including their continent, if they are member of the EU, if they are considered a flag of convenience by the ITF, and the area of their EEZ.\nThis table also includes the eez_id a numeric value that you’ll find in various GFW tables including the vessel info table. Using the country_codes table it is possible map this numeric EEZ_id to and ISO3 or country name.\nA critical field is the country_name_gfw field which represents the GFW approved naming convention. In all external GFW products it is important to use this naming convention.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>24</span>  <span class='chapter-title'>Country Codes</span>"
    ]
  },
  {
    "objectID": "files/country-codes.html#caveats-and-known-issues",
    "href": "files/country-codes.html#caveats-and-known-issues",
    "title": "24  Country Codes",
    "section": "24.3 Caveats and Known Issues",
    "text": "24.3 Caveats and Known Issues\nJust a note that naming is very important and care should be taken with labeling vessels or regions with flag State. In nearly all cases, use country_name_gfw when providing longer flag State names.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>24</span>  <span class='chapter-title'>Country Codes</span>"
    ]
  },
  {
    "objectID": "files/country-codes.html#example-query",
    "href": "files/country-codes.html#example-query",
    "title": "24  Country Codes",
    "section": "24.4 Example Query",
    "text": "24.4 Example Query\nadding_country_code_names.sql",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>24</span>  <span class='chapter-title'>Country Codes</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html",
    "href": "files/areas-spatial-region-sources.html",
    "title": "25  Spatial Region Sources",
    "section": "",
    "text": "25.1 Raster information\nRaster Information can be found in pipe_static.spatial_measures_clustered_20230307",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#regions",
    "href": "files/areas-spatial-region-sources.html#regions",
    "title": "25  Spatial Region Sources",
    "section": "25.2 Regions",
    "text": "25.2 Regions\nRegions are polygon layers that are used in the later stages of the pipeline to determine whether a given position (such as the location of a fishing event) is inside or outside the individual polygons in the layer. Example layers are WDPA marine protected areas, EEZs, RFMO regions, etc.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#description-of-region-layers",
    "href": "files/areas-spatial-region-sources.html#description-of-region-layers",
    "title": "25  Spatial Region Sources",
    "section": "25.3 Description of Region Layers",
    "text": "25.3 Description of Region Layers\nEach set of region layers comes from a different source and is composed of a set of polygons that define a number of regions within that layer. Each layer has a unique ID field that identifies the real-world feature which may be represented by multiple polygons. For instance, the original EEZ layer has 323 polygon features which represent 281 distinct EEZs. See the child pages for details on where the layers come from, attribution and citation requirements and how to access the data.\n\n25.3.1 Available Regions Layers\nPipeline bucket: pipe_regions_layers\n\n[12 NM Boundary]\n[EEZ Boundaries]\n[FAO Areas]\n[High Seas]\n[High Seas Pockets]\n[Oceans and Seas]\n[Protected Seas]\n[WDPA Marine MPAs]\n[HOWTO: Do point in polygon test in bigquery using regions]\n[HOWTO: Update a layer in pipe_regions]",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#data-access",
    "href": "files/areas-spatial-region-sources.html#data-access",
    "title": "25  Spatial Region Sources",
    "section": "25.4 Data Access",
    "text": "25.4 Data Access\nAll these regions are managed via the pipe-regions tool. Regions are available in GCS and Bigquery with all attributes from the source shapefiles.\nEach layer is normalized into a single zipped shapefile which is stored in GCS here gs://pipe-regions-layers-us-central1/\nLayers are then converted to geojson and loaded into bigquery here: world-fishing-827.pipe_regions_layers\nLayers are also processed to optimize for point in polygon testing using S2 cells in bigquery. The optimized tables are in world-fishing-827.pipe_regions_layers in tables with suffix **_S2_10** which indicates it is optimized for S2 cells at level 10.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#background",
    "href": "files/areas-spatial-region-sources.html#background",
    "title": "25  Spatial Region Sources",
    "section": "25.5 Background",
    "text": "25.5 Background\nPreviously regions were included in the Spatial Measures pipeline stage, along with other scalar measures like bathymetry depth and distance from shore. There were some problems with the old approach that have been fixed with the new implementation in pipe-regions.\n\nIn Spatial Measures regions were gridded to 1km resolution, so positions near the boundary were sometimes mis-classified as being inside or outside. This gridded approach was a compromise made for performance reasons. With the new pipe-regions implementation, every lat/lon position is tested against the full resolution polygon using ST_INTERSECTS, so it is very accurate for positions near the polygon boundary\nThe Spatial Measures step comes early in the pipeline, so this meant that updating the polygons used for computing regions was expensive since all downstream pipeline stages would need to be re-run. The WDPA is updated monthly, and we would like for these monthly updates to be automatically included in the pipeline. The new pipe-regions implementation comes later in the pipeline, and has enhanced support for automated updates of polygon layers, so it is easier to make changes and keep the pipeline output up to date\nMismatch between compute and display - the polygons that are displayed on the map are the true polygons, and this means that with the Spatial Measures approach, there was a mismatch between what was computed and what was displayed.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#legacy-regions",
    "href": "files/areas-spatial-region-sources.html#legacy-regions",
    "title": "25  Spatial Region Sources",
    "section": "25.6 Legacy Regions",
    "text": "25.6 Legacy Regions\nList of regions that were present in the old spatial_measures table. Need to figure out what to do with these.\nReference docs\n\nhttps://docs.google.com/document/d/1DdzRGYGMHfomxzetel_eNeaAmgl7sX7AD7N12lcvW_M/edit\nhttps://drive.google.com/drive/u/0/folders/1-udRAn3Tj_OLX8r79KNi7qUtQAYo8pfJ\n\n\n\n\nlegacy layer id from Spatial Mesaures\nNew Regions S2 layer\n\n\n\n\nmregion\nNot sure what this is. there are 312 unique id values\n\n\narg\nArgentina?\n\n\neez\nEEZ Boundaries\n\n\nmparu\nI think this is a subset of the WDPA MPA layer - restricted use?\n\n\nvme\n???\n\n\nkkp\nIndonesia\n\n\nocean\noceans from marine regions. Looks like this is just the 5 main oceans, but marine regions has some more detailed layers - World Seas IHO with 101 features and GOAS with 10 features. Does anyone even use this?\n\n\nhsp\nhigh seas pockets (marine regions?). I think this was a custom layer we created.\n\n\nother\ndoes not seem to be used\n\n\nfao\nFAO Areas\n\n\nmpant\nI think this is a subset of the WDPA mpa layer. MPA No Take.\n\n\names\n??? 207 values - ARC_1..11, ETTP_1..21, MED 1..17, NP_1..20, NWA_1..7, SEA_1..45, SIO_1..39, and so on…\n\n\nrfmo\nRFMOs\n\n\nmajor_fao\nFAO Areas\n\n\n\nWDPA Marine MPAs\n\n\n\nChecking to see what RFMOs are being used.\nSELECT\nSELECT\ndistinct rfmo\n\nFROM `world-fishing-827.pipe_static.spatial_measures_20201105`\n\nCROSS JOIN UNNEST(regions.rfmo) as rfmo\n\nLIMIT 1000\nThis gives a list of 42 RFMO labels. All of these have been incorporated into the new RFMO layer RFMOs\nLegacy RFMO identifier\n\nACAP\n\nAPFIC\n\nBOBP-IGO\n\nCACFISH\n\nCCAMLR\n\nCCBSP\n\nCCSBT\n\nCOREP\n\nCPPS\n\nCRFM\n\nCTMFM\n\nEIFAAC\n\nFCWC\n\nFFA\n\nGFCM\n\nIATTC\n\nICCAT\n\nICES\n\nIOTC\n\nIPHC\n\nIWC\n\nLTA\n\nLVFO\n\nMRC\n\nNACA\n\nNAFO\n\nNAMMCO\n\nNASCO\n\nNEAFC\n\nNPAFC\n\nNPFC\n\nOSPESCA\n\nPERSGA\n\nPICES\n\nRECOFI\n\nSEAFDEC\n\nSIOFA\n\nSPC\n\nSPRFMO\n\nSRFC\n\nSWIOFC\n\nWCPFC",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-spatial-region-sources.html#design-issues",
    "href": "files/areas-spatial-region-sources.html#design-issues",
    "title": "25  Spatial Region Sources",
    "section": "25.7 Design Issues",
    "text": "25.7 Design Issues\nhttps://github.com/GlobalFishingWatch/pipe-regions/blob/master/DESIGN.md",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>25</span>  <span class='chapter-title'>Spatial Region Sources</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html",
    "href": "files/areas-eez-boundaries.html",
    "title": "26  EEZ Boundaries",
    "section": "",
    "text": "26.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html#key-attributes",
    "href": "files/areas-eez-boundaries.html#key-attributes",
    "title": "26  EEZ Boundaries",
    "section": "",
    "text": "Layer name\neez\n\n\n\n\nUnique id field\nMRGID_EEZ\n\n\nShort description\nMaritime exclusive economic zones (200 nautical mile boundary) for all coastal nations.\n\n\nSource\nhttps://www.marineregions.org/downloads.php\n\n\nCitation\nFlanders Marine Institute (2024). Union of the ESRI Country shapefile and the Exclusive Economic Zones (version 4). Available online at https://www.marineregions.org/. https://doi.org/10.14284/698.\n\n\nAttribution\nCopyright Flanders Marine Institute (2020) - marineregions.org.\n\n\nLast updated\n2023-10-25\n\n\nLicense\nCC-BY",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html#description",
    "href": "files/areas-eez-boundaries.html#description",
    "title": "26  EEZ Boundaries",
    "section": "26.2 Description",
    "text": "26.2 Description\nWe use EEZ boundaries that are freely available from Marine Regions\nNote that we use the product Marine and land zones: the union of world country boundaries and EEZ’s version 3 2020-03-17. This dataset combines the boundaries of the world countries and the Exclusive Economic Zones of the world. It was created by combining the ESRI world country database and the EEZ V11 dataset. [Known Issues]",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html#modifications-to-original",
    "href": "files/areas-eez-boundaries.html#modifications-to-original",
    "title": "26  EEZ Boundaries",
    "section": "26.3 Modifications to Original",
    "text": "26.3 Modifications to Original\nThe original file from Marine Regions contains all countries, even those that have no coast, and therefore no EEZ. It also contains the entire area of each country. This creates some problems for us because EEZ-based activity picks up in-shore activity in rivers, and this is confusing when we expect things to be limited to just the EEZ marine area. So what we do is clip the final polygons in the layer to include only a 0.1 degree (about 10km) buffer in from the coastline for each country. Countries with no coastline are filtered out. We include the buffer because if we only include the EEZ polygon, the lack of precision at the coastline causes some activity that is in the marine area to be excluded.\n\n\n\n\n\nThe buffering is done using a land mask from the Natural Earth 10m Land data set. The file used for this is in GCS and the script that does the buffering, clipping and filtering is in github https://github.com/GlobalFishingWatch/pipe-regions/blob/master/layer-preprocessing/eez-land-buffered.sh",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html#data-access",
    "href": "files/areas-eez-boundaries.html#data-access",
    "title": "26  EEZ Boundaries",
    "section": "26.4 Data access",
    "text": "26.4 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/eez/original/EEZ_land_union_v4_202410.zip\nLand Mask: gs://pipe-regions-layers-us-central1/eez/original/ne_10m_land.zip\nNormalized, buffered and clipped: gs://pipe-regions-layers-us-central1/eez/EEZ_land_union_v4_202410.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.EEZ_land_union_v4_202410\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.EEZ_land_union_v4_202410_S2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-eez-boundaries.html#old-versions",
    "href": "files/areas-eez-boundaries.html#old-versions",
    "title": "26  EEZ Boundaries",
    "section": "26.5 Old versions",
    "text": "26.5 Old versions\nNote that we use the product Marine and land zones: the union of world country boundaries and EEZ’s version 3 2020-03-17. This dataset combines the boundaries of the world countries and the Exclusive Economic Zones of the world. It was created by combining the ESRI world country database and the EEZ V11 dataset. [Known Issues]\nCitation: Flanders Marine Institute (2019). Maritime Boundaries Geodatabase: Maritime Boundaries and Exclusive Economic Zones (200NM), version 11. Available online at https://www.marineregions.org/. https://doi.org/10.14284/386\n\n26.5.1 Modifications to Original\nThe original file from Marine Regions contains all countries, even those that have no coast, and therefore no EEZ. It also contains the entire area of each country. This creates some problems for us because EEZ-based activity picks up in-shore activity in rivers, and this is confusing when we expect things to be limited to just the EEZ marine area. So what we do is clip the final polygons in the layer to include only a 0.1 degree (about 10km) buffer in from the coastline for each country. Countries with no coastline are filtered out. We include the buffer because if we only include the EEZ polygon, the lack of precision at the coastline causes some activity that is in the marine area to be excluded. The buffering is done using a land mask from the Natural Earth 10m Land data set. The file used for this is in GCS and the script that does the buffering, clipping and filtering is in github https://github.com/GlobalFishingWatch/pipe-regions/blob/master/layer-preprocessing/eez-land-buffered.sh\n\n\n26.5.2 Old Version Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/eez/original/EEZ_land_union_v3_202003.zip\nLand Mask: gs://pipe-regions-layers-us-central1/eez/original/ne_10m_land.zip\nNormalized, buffered and clipped: gs://pipe-regions-layers-us-central1/eez/EEZ_land_union_v3_202003_buffered.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.EEZ_land_union_v3_202003_buffered\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.EEZ_land_union_v3_202003_buffered_marine_s2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>26</span>  <span class='chapter-title'>EEZ Boundaries</span>"
    ]
  },
  {
    "objectID": "files/areas-12-nm-boundary.html",
    "href": "files/areas-12-nm-boundary.html",
    "title": "27  12 NM Boundary",
    "section": "",
    "text": "27.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>27</span>  <span class='chapter-title'>12 NM Boundary</span>"
    ]
  },
  {
    "objectID": "files/areas-12-nm-boundary.html#key-attributes",
    "href": "files/areas-12-nm-boundary.html#key-attributes",
    "title": "27  12 NM Boundary",
    "section": "",
    "text": "Layer name\neez12nm\n\n\n\n\nUnique id field\nMRGID_EEZ\n\n\nShort description\nWorld 12 Nautical Miles Zone (Territorial Seas) v3\n\n\nSource\nhttps://www.marineregions.org/downloads.php\n\n\nCitation\nFlanders Marine Institute (2024). Union of the ESRI Country shapefile and the Exclusive Economic Zones (version 4). Available online at https://www.marineregions.org/. https://doi.org/10.14284/698. Consulted on 2025-05-26.\n\n\nAttribution\nCopyright Flanders Marine Institute - marineregions.org\n\n\nLast updated\n2023-10-25\n\n\nLicense\nCC-BY",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>27</span>  <span class='chapter-title'>12 NM Boundary</span>"
    ]
  },
  {
    "objectID": "files/areas-12-nm-boundary.html#description",
    "href": "files/areas-12-nm-boundary.html#description",
    "title": "27  12 NM Boundary",
    "section": "27.2 Description",
    "text": "27.2 Description\n12 Nautical Mile boundary that is the limit of a nation’s territorial waters. From Marine Regions\n\n\n\n\n\n[Known Issues]",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>27</span>  <span class='chapter-title'>12 NM Boundary</span>"
    ]
  },
  {
    "objectID": "files/areas-12-nm-boundary.html#data-access",
    "href": "files/areas-12-nm-boundary.html#data-access",
    "title": "27  12 NM Boundary",
    "section": "27.3 Data access",
    "text": "27.3 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/eez_12nm/original/World_12NM_v4_20231025.zip\nNormalized: gs://pipe-regions-layers-us-central1/eez_12nm/eez_12nm_v4.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.eez_12nm_v4\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.eez_12nm_v4_S2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>27</span>  <span class='chapter-title'>12 NM Boundary</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html",
    "href": "files/areas-rfmos.html",
    "title": "28  RFMOs",
    "section": "",
    "text": "28.1 Key Attributes\nFor individual RFMOs, use this URL template https://geonetwork.d4science.org/geonetwork/srv/en/metadata.show?uuid=fao-rfb-map-[rfmo-id] | | Citation | © FAO, 2019. FAO Regional Fishery Bodies. [RFMO Name]. In: FAO Fisheries and Aquaculture Department (FI) [online]. Rome. Updated 2019-02-21 [Cited ] http://www.fao.org/geonetwork/srv/eng/main.home?uuid=fao-rfb-map-iattc | | Attribution | © FAO, 2019. FAO Regional Fishery Bodies. | | Last updated | 2019-02-21 | | License | Public |",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html#key-attributes",
    "href": "files/areas-rfmos.html#key-attributes",
    "title": "28  RFMOs",
    "section": "",
    "text": "Layer name\nrfmo\n\n\n\n\nUnique ID Field\nRFB\n\n\nShort description\nRegional Fisheries Management Organizations (RFMOs)\n\n\nSource\nhttps://geonetwork.d4science.org/geonetwork/srv/en/main.home",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html#description",
    "href": "files/areas-rfmos.html#description",
    "title": "28  RFMOs",
    "section": "28.2 Description",
    "text": "28.2 Description\n42 RFMOs are included in one table. See below for a complete list. All RFMOS stem from the FAO geonetwork. Some RFMO shapefiles go to land, and there is a possibility of coastline issues. However, not quite sure there is an easy solution for RFMOs (since it is region-specific) so currently (Summer 2022) have not conducted any adjustments.\nThere are several RFMOs where we do not use the shapefile published in geonetwork. These are\n\nNPFC\nCCSBT\nICCAT\n\nSee the linked pages for more on these. For the rest, see below.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html#data-access",
    "href": "files/areas-rfmos.html#data-access",
    "title": "28  RFMOs",
    "section": "28.3 Data access",
    "text": "28.3 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers/fao_rfb_rfmos/original/FAO_RFB_*.zip\nNormalized and merged: gs://pipe-regions-layers/fao_rfb_rfmos/fao_rfb_rfmos.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.fao_rfb_rfmos\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.fao_rfb_rfmos_s2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html#updating",
    "href": "files/areas-rfmos.html#updating",
    "title": "28  RFMOs",
    "section": "28.4 Updating",
    "text": "28.4 Updating\nThere is a script in pipe-regions that will download original shapefiles, merge them and store in gcs. To use this, see the section on FAO RFMOs in https://github.com/GlobalFishingWatch/pipe-regions/blob/master/USAGE.md",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-rfmos.html#list-of-rfmos",
    "href": "files/areas-rfmos.html#list-of-rfmos",
    "title": "28  RFMOs",
    "section": "28.5 List of RFMOs",
    "text": "28.5 List of RFMOs\n\n\n\nACAP\nAgreement on the Conservation of Albatrosses and Petrels\n\n\n\n\nAPFIC\nAsia Pacific Fisheries Commission\n\n\nBOBP-IGO\nBay of Bengal Programme\n\n\nCACFISH\nCentral Asia and Caucasus Fisheries and Aquaculture Commission\n\n\nCCAMLR\nCommission for the Conservation of Antarctic Marine Living Resources\n\n\nCCBSP\nConvention on the Conservation and Management of Pollock Resources in the Central Bering Sea\n\n\nCCSBT\nCommission for the Conservation of Southern Bluefin Tuna\n\n\nCOREP\nCommission Régionale des Pêches du Golfe de Guinee\n\n\nCPPS\nComisión Permanente del Pacifico Sur\n\n\nCRFM\nCaribbean Regional Fisheries Mechanism\n\n\nCTMFM\nJoint Technical Commission of the Maritime Front\n\n\nEIFAAC\nEuropean Inland Fisheries and Aquaculture Advisory Commission\n\n\nFCWC\nFishery Committee of the West Central Gulf of Guinea\n\n\nFFA\nForum Fisheries Agency\n\n\nGFCM\nGeneral Fisheries Commission for the Mediterranean\n\n\nIATTC\nInter-American Tropical Tuna Commission\n\n\nICCAT\nInternational Commission for the Conservation of Atlantic Tunas\n\n\nICES\nInternational Council for the Exploration of the Sea\n\n\nIOTC\nIndian Ocean Tuna Commission\n\n\nIPHC\nInternational Pacific Halibut Commission\n\n\nIWC\nInternational Whaling Commission\n\n\nLTA\nLake Tanganyika Authority\n\n\nLVFO\nLake Victoria Fisheries Organization\n\n\nMRC\nMekong River Commission\n\n\nNACA\nNetwork of Aquaculture Centers in Asia-Pacific\n\n\nNAFO\nNorthwest Atlantic Fisheries Organization\n\n\nNAMMCO\nNorth Atlantic Marine Mammal Commission\n\n\nNASCO\nNorth Atlantic Salmon Conservation Organization\n\n\nNEAFC\nNorth-East Atlantic Fisheries Commission\n\n\nNPAFC\nNorth Pacific Anadromous Fish Commission\n\n\nNPFC\nNorth Pacific Fisheries Commission\n\n\nOSPESCA\nCentral America Fisheries and Aquaculture Organization\n\n\nPERSGA\nRed Sea and Gulf of Aden Environment Programme\n\n\nPICES\nNorth Pacific Marine Science Organization\n\n\nRECOFI\nRegional Commission for Fisheries\n\n\nSEAFDEC\nSoutheast Asian Fisheries Development Center\n\n\nSIOFA\nSouth Indian Ocean Fisheries Agreement\n\n\nSPC\nSecretariat of the Pacific Community\n\n\nSPRFMO\nSouth Pacific Regional Fisheries Management Organisation\n\n\nSRFC\nSubregional Fisheries Commission\n\n\nSWIOFC\nSouthwest Indian Ocean Fisheries Commission\n\n\nWCPFC\nWestern and Central Pacific Fisheries Commission\n\n\n\n\nNPFC\nIATTC\nICCAT\nSPRFMO\nCCSBT\nIOTC",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>28</span>  <span class='chapter-title'>RFMOs</span>"
    ]
  },
  {
    "objectID": "files/areas-fao-areas.html",
    "href": "files/areas-fao-areas.html",
    "title": "29  FAO Areas",
    "section": "",
    "text": "29.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>29</span>  <span class='chapter-title'>FAO Areas</span>"
    ]
  },
  {
    "objectID": "files/areas-fao-areas.html#key-attributes",
    "href": "files/areas-fao-areas.html#key-attributes",
    "title": "29  FAO Areas",
    "section": "",
    "text": "Layer names\nfao, major_fao\n\n\n\n\nUnique id field\nID\n\n\nShort description\nFAO Statistical Areas\n\n\nSource\nhttps://data.apps.fao.org/map/catalog/srv/eng/catalog.search#/metadata/ac02a460-da52-11dc-9d70-0017f293bd28\n\n\nCitation\n(c) FAO, 2020. FAO Statistical Areas for Fishery Purposes. In: FAO Fisheries and Aquaculture Department [online]. Rome. [Cited ] http://www.fao.org/fishery/area/search/en\n\n\nAttribution\n(c) FAO, 2020\n\n\nLast updated\nManual update 2022-01-19, original source revision date 2014-04-17\n\n\nLicense\nPublic",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>29</span>  <span class='chapter-title'>FAO Areas</span>"
    ]
  },
  {
    "objectID": "files/areas-fao-areas.html#description",
    "href": "files/areas-fao-areas.html#description",
    "title": "29  FAO Areas",
    "section": "29.2 Description",
    "text": "29.2 Description\n\n\n\n\n\nFAO Major Fishing Areas for Statistical Purposes are arbitrary areas, the boundaries of which were determined in consultation with international fishery agencies on various considerations, including (i) the boundary of natural regions and the natural divisions of oceans and seas; (ii) the boundaries of adjacent statistical fisheries bodies already established in inter-governmental conventions and treaties; (iii) existing national practices; (iv) national boundaries; (v) the longitude and latitude grid system; (vi) the distribution of the aquatic fauna; and (vii) the distribution of the resources and the environmental conditions within an area.\nNB: These two layers were manually tweaked by Pete. See PIPELINE-558 - Update FAO regions in the next pipeline run Done\nOriginal Source: https://data.apps.fao.org/map/catalog/srv/eng/catalog.search#/metadata/ac02a460-da52-11dc-9d70-0017f293bd28\nNormalized shapefile produced from original (manually edited) geojson like this:\nogr2ogr -f “ESRI Shapefile” -lco ENCODING=UTF-8\n\nFAO_MAJOR_AREAS_NOCOASTLINE.shp.zip\n\nFAO_MAJOR_AREAS_NOCOASTLINE.geojson",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>29</span>  <span class='chapter-title'>FAO Areas</span>"
    ]
  },
  {
    "objectID": "files/areas-fao-areas.html#fao-areas",
    "href": "files/areas-fao-areas.html#fao-areas",
    "title": "29  FAO Areas",
    "section": "29.3 FAO Areas",
    "text": "29.3 FAO Areas\nThis is the full data set\nLayer Name: fao\nOriginal: gs://pipe-regions-layers-us-central1/fao_areas/original/FAO_AREAS_NOCOASTLINE.geojson\nNormalized: gs://pipe-regions-layers-us-central1/fao_areas/FAO_AREAS_NOCOASTLINE.shp.zip\nBigquery Normalized:\nBigquery S2 Optimized:\n\n29.3.1 FAO Major Areas\nThis is just the 19 major areas. All the other areas are subdivisions of these 19\nLayer Name: major_fao\nOriginal: gs://pipe-regions-layers-us-central1/fao_major_areas/original/FAO_MAJOR_AREAS_NOCOASTLINE.geojson\nNormalized: gs://pipe-regions-layers-us-central1/fao_major_areas/FAO_MAJOR_AREAS_NOCOASTLINE.shp.zip\nBigquery Normalized:\nBigquery S2 Optimized:",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>29</span>  <span class='chapter-title'>FAO Areas</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas-pockets.html",
    "href": "files/areas-high-seas-pockets.html",
    "title": "30  High Seas Pockets",
    "section": "",
    "text": "30.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>30</span>  <span class='chapter-title'>High Seas Pockets</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas-pockets.html#key-attributes",
    "href": "files/areas-high-seas-pockets.html#key-attributes",
    "title": "30  High Seas Pockets",
    "section": "",
    "text": "Layer name\nhsp\n\n\n\n\nUnique id field\nname\n\n\nShort description\nHigh Seas Pockets\n\n\nSource\nExceprted from https://www.marineregions.org/downloads.php\n\n\nCitation\nFlanders Marine Institute (2024). Maritime Boundaries Geodatabase: High Seas, version 2. Available online at https://www.marineregions.org/. https://doi.org/10.14284/696.\n\n\nAttribution\nCopyright Flanders Marine Institute - http://marineregions.org\n\n\nLast updated\n2024-10-10 (marine regions), 2022-12-16 (GFW)\n\n\nLicense\nCC-BY",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>30</span>  <span class='chapter-title'>High Seas Pockets</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas-pockets.html#description",
    "href": "files/areas-high-seas-pockets.html#description",
    "title": "30  High Seas Pockets",
    "section": "30.2 Description",
    "text": "30.2 Description\nThe regions of the high seas excluding the major contiguous area of high seas and the arctic ocean.\n\n\n\n\n\nThis data set is derived from the Marine Regions high-seas data set by extracting just the polygons corresponding to the 15 high seas pockets that GFW has labeled from HSP-1 to HSP-15. Note that HSP-15 is split across the anti-meridian, so it appears in two pieces that have the same label. Naming of the pockets is consistent with the naming that WCPFC uses to identify HSP 1-4. The rest of the pockets are enumerated in arbitrary order by GFW.\nThe script used to create the layer is here: [https://github.com/GlobalFishingWatch/pipe-regions/blob/PIPELINE-1049/layer-preprocessing/high-seas-pockets.sh](https://github.com/GlobalFishingWatch/pipe-regions/blob/PIPELINE-1049/layer-preprocessing/high-seas-pockets.sh)",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>30</span>  <span class='chapter-title'>High Seas Pockets</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas-pockets.html#data-access",
    "href": "files/areas-high-seas-pockets.html#data-access",
    "title": "30  High Seas Pockets",
    "section": "30.3 Data access",
    "text": "30.3 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/high_seas/original/World_High_Seas_v2_20241010.zip\nGFW Labels: gs://pipe-regions-layers-us-central1/hsp/original/hsp_centroids.shp.zip\nNormalized: gs://pipe-regions-layers-us-central1/hsp/high_seas_pockets_v20241010.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.high_seas_pockets_v20241010\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.high_seas_pockets_v20241010_S2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>30</span>  <span class='chapter-title'>High Seas Pockets</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas-pockets.html#old-versions",
    "href": "files/areas-high-seas-pockets.html#old-versions",
    "title": "30  High Seas Pockets",
    "section": "30.4 Old Versions",
    "text": "30.4 Old Versions\n\n30.4.1 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/high_seas/original/World_High_Seas_v1_20200826.zip\nGFW Labels: gs://pipe-regions-layers-us-central1/hsp/original/hsp_centroids.shp.zip\nNormalized: gs://pipe-regions-layers-us-central1/hsp/high_seas_pockets_v20221216.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.high_seas_pockets_v20221216\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.high_seas_pockets_v20221216_s2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>30</span>  <span class='chapter-title'>High Seas Pockets</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas.html",
    "href": "files/areas-high-seas.html",
    "title": "31  High Seas",
    "section": "",
    "text": "31.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>31</span>  <span class='chapter-title'>High Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas.html#key-attributes",
    "href": "files/areas-high-seas.html#key-attributes",
    "title": "31  High Seas",
    "section": "",
    "text": "Layer name\nhigh_seas\n\n\n\n\nUnique id field\nmrgid\n\n\nShort description\nWorld High Seas v1\n\n\nSource\nhttps://www.marineregions.org/downloads.php\n\n\nCitation\nFlanders Marine Institute (2024). Maritime Boundaries Geodatabase: High Seas, version 2. Available online at https://www.marineregions.org/. https://doi.org/10.14284/696.\n\n\nAttribution\nCopyright Flanders Marine Institute - http://marineregions.org\n\n\nLast updated\n2024-10-10\n\n\nLicense\nCC-BY",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>31</span>  <span class='chapter-title'>High Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas.html#description",
    "href": "files/areas-high-seas.html#description",
    "title": "31  High Seas",
    "section": "31.2 Description",
    "text": "31.2 Description\nThe area of the seas that is not included in the exclusive economic zone, in the territorial sea or in the internal waters of a State, or in the archipelagic waters of an archipelagic State.\nFrom Marine Regions",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>31</span>  <span class='chapter-title'>High Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas.html#data-access",
    "href": "files/areas-high-seas.html#data-access",
    "title": "31  High Seas",
    "section": "31.3 Data access",
    "text": "31.3 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/high_seas/original/World_High_Seas_v2_20241010.zip\nNormalized: gs://pipe-regions-layers-us-central1/high_seas/World_High_Seas_v2_20241010.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.World_High_Seas_v2_20241010\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.World_High_Seas_v2_20241010_S2_10\n31.4 Old Versions\n\nCitation: Flanders Marine Institute (2020). Maritime Boundaries Geodatabase: High Seas, version 1. Available online at https://www.marineregions.org/ https://doi.org/10.14284/418",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>31</span>  <span class='chapter-title'>High Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-high-seas.html#data-access-1",
    "href": "files/areas-high-seas.html#data-access-1",
    "title": "31  High Seas",
    "section": "31.5 Data access",
    "text": "31.5 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/high_seas/original/World_High_Seas_v1_20200826.zip\nNormalized: gs://pipe-regions-layers-us-central1/high_seas/High_Seas_v1.shp.zip\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.High_Seas_v1\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.High_Seas_v1_s2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>31</span>  <span class='chapter-title'>High Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-protected-seas.html",
    "href": "files/areas-protected-seas.html",
    "title": "32  Protected Seas",
    "section": "",
    "text": "32.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>32</span>  <span class='chapter-title'>Protected Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-protected-seas.html#key-attributes",
    "href": "files/areas-protected-seas.html#key-attributes",
    "title": "32  Protected Seas",
    "section": "",
    "text": "Layer name\nprotectedseas\n\n\n\n\nUnique id field\nsite_id\n\n\nShort description\nProtected Seas\n\n\nSource\nhttps://map.navigatormap.org/resources/downloads/NavigatorGlobal_030325.json\n\n\nCitation\n\n\n\nAttribution\n\n\n\nLast updated\n2025-03-03\n\n\nLicense",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>32</span>  <span class='chapter-title'>Protected Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-protected-seas.html#description",
    "href": "files/areas-protected-seas.html#description",
    "title": "32  Protected Seas",
    "section": "32.2 Description",
    "text": "32.2 Description\n\nContains the regions with category IUCN MPAs",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>32</span>  <span class='chapter-title'>Protected Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-protected-seas.html#data-access",
    "href": "files/areas-protected-seas.html#data-access",
    "title": "32  Protected Seas",
    "section": "32.3 Data access",
    "text": "32.3 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/protectedseas/original/NavigatorGlobal_030325.json\nShapefile: gs://pipe-regions-layers-us-central1/protectedseas/NavigatorGlobal_030325.shp.zip`\n\nBigquery\n\nNormalized: world-fishing-827.pipe_regions_layers.NavigatorGlobal_030325\nProcessed for S2 lookup:: world-fishing-827.pipe_regions_layers.NavigatorGlobal_030325_S2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>32</span>  <span class='chapter-title'>Protected Seas</span>"
    ]
  },
  {
    "objectID": "files/areas-wdpa-marine-mpas.html",
    "href": "files/areas-wdpa-marine-mpas.html",
    "title": "33  WDPA Marine MPAs",
    "section": "",
    "text": "33.1 Key Attributes",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>33</span>  <span class='chapter-title'>WDPA Marine MPAs</span>"
    ]
  },
  {
    "objectID": "files/areas-wdpa-marine-mpas.html#key-attributes",
    "href": "files/areas-wdpa-marine-mpas.html#key-attributes",
    "title": "33  WDPA Marine MPAs",
    "section": "",
    "text": "Layer name\nmpa, mpa_no_take, mpa_no_take_partial (see below for filters used)\n\n\n\n\nUnique id field\nWDPA_PID\n\n\nShort description\nMarine protected areas from The World Database on Protected Areas (WDPA) via protectedplanet.net\n\n\nSource\nhttps://www.protectedplanet.net/en/search-areas?filters[db_type][]=wdpa&filters[is_type][]=marine\n\n\nCitation\nUNEP-WCMC and IUCN (2022), Protected Planet: The World Database on Protected Areas (WDPA) and World Database on Other Effective Area-based Conservation Measures (WD-OECM) [Online], August 2022, Cambridge, UK: UNEP-WCMC and IUCN. Available at: www.protectedplanet.net.\n\n\nAttribution\nYou must ensure that one of the following citations is always clearly reproduced in any publication or analysis involving the Protected Planet Materials in any derived form or format: Use this citation for any downloads of Protected Planet Materials from ProtectedPlanet.net:\n\n\nUNEP-WCMC and IUCN (year), Protected Planet: The World Database on Protected Areas (WDPA) [On-line], [insert month/year of the version downloaded], Cambridge, UK: UNEP-WCMC and IUCN. Available at: www.protectedplanet.net.\n\n\n\nLast updated\n2020-11-01 (Updated monthly)\n\n\nLicense\nNon-commecrial use https://www.protectedplanet.net/en/legal",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>33</span>  <span class='chapter-title'>WDPA Marine MPAs</span>"
    ]
  },
  {
    "objectID": "files/areas-wdpa-marine-mpas.html#description",
    "href": "files/areas-wdpa-marine-mpas.html#description",
    "title": "33  WDPA Marine MPAs",
    "section": "33.2 Description",
    "text": "33.2 Description\nThe World Database on Protected Areas (WDPA) is the most comprehensive global database of marine and terrestrial protected areas. It is a joint project between UN Environment Programme and the International Union for Conservation of Nature (IUCN), and is managed by UN Environment Programme World Conservation Monitoring Centre (UNEP-WCMC), in collaboration with governments, non-governmental organizations, academia and industry. The WDPA is updated on a monthly basis and can be downloaded using the button in the top right of this page.\nWe use just the marine protected areas, which is a subset of the full WDPA.\n\nFormatting is different than the previous MPA source we used (previous to 2022 pipeline updates). Many more columns. One column that is ‘NO_TAKE’ with different categories (‘All’, ‘Part’, ‘Not Reported’, ‘Not Applicable’, ‘None’). Should make sure to capture this information and as many of the other fields as we can.\nThe source is either .csv, or .shp. Due to the size of the data the .shp folder breaks it down into three layers that need to be merged to get full resolution. See ‘Shapefile_splitting_README.txt’ in folder. There is a utility in pipe_regions that will download and merge the multiple shapefiles.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>33</span>  <span class='chapter-title'>WDPA Marine MPAs</span>"
    ]
  },
  {
    "objectID": "files/areas-wdpa-marine-mpas.html#no-take-mpas",
    "href": "files/areas-wdpa-marine-mpas.html#no-take-mpas",
    "title": "33  WDPA Marine MPAs",
    "section": "33.3 No-Take MPAs",
    "text": "33.3 No-Take MPAs\nin addition to the full set of MPAs, there are two filtered subsets published as separate layers.\n\n\n\nLayer ID\nFilter\n\n\n\n\nmpa_no_take\nNO_TK_AREA &gt; 0 AND NO_TAKE = ‘All’\n\n\nmpa_no_take_partial\nNO_TK_AREA &gt; 0",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>33</span>  <span class='chapter-title'>WDPA Marine MPAs</span>"
    ]
  },
  {
    "objectID": "files/areas-wdpa-marine-mpas.html#data-access",
    "href": "files/areas-wdpa-marine-mpas.html#data-access",
    "title": "33  WDPA Marine MPAs",
    "section": "33.4 Data access",
    "text": "33.4 Data access\nGCS\n\nOriginal: gs://pipe-regions-layers-us-central1/mpa/original/WDPA_WDOECM_Aug2022_Public_marine_shp.zip\nNormalized: gs://pipe-regions-layers-us-central1/wdpa/WDPA_WDOECM_Aug2022_Public_marine_shp.shp.zip\nNo Take: gs://pipe-regions-layers-us-central1/wdpa/NO_TAKE_WDPA_WDOECM_Aug2022_Public_marine_shp.shp.zip\nNo Take Partial: gs://pipe-regions-layers-us-central1/wdpa/NO_TAKE_PARTIAL_WDPA_WDOECM_Aug2022_Public_marine_shp.shp.zip\n\nBigquery\n\nNormalized:\n\nworld-fishing-827.pipe_regions_layers.WDPA_WDOECM_Nov2022_Public_marine_shp\nworld-fishing-827.pipe_regions_layers.NO_TAKE_PARTIAL_WDPA_WDOECM_Nov2022_Public_marine_shp\nworld-fishing-827.pipe_regions_layers.NO_TAKE_WDPA_WDOECM_Nov2022_Public_marine_shp\n\nProcessed for S2 lookup::\n\nworld-fishing-827.pipe_regions_layers.WDPA_WDOECM_Nov2022_Public_marine_shp_s2_10\nworld-fishing-827.pipe_regions_layers.NO_TAKE_PARTIAL_WDPA_WDOECM_Nov2022_Public_marine_shp_s2_10\nworld-fishing-827.pipe_regions_layers.NO_TAKE_WDPA_WDOECM_Nov2022_Public_marine_shp_s2_10",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>33</span>  <span class='chapter-title'>WDPA Marine MPAs</span>"
    ]
  },
  {
    "objectID": "files/areas-point-in-polygon-test-using-regions.html",
    "href": "files/areas-point-in-polygon-test-using-regions.html",
    "title": "34  Point-in-polygon Test Using Regions",
    "section": "",
    "text": "34.1 Architecture\nWe use sets of polygons in the data pipeline to determine when events (fishing events, encounter events, etc) are located inside pre-determined polygons, such as MPAs, EEZs and the like. These sets of polygons are called “regions” and all the code that is used to create and use them is in the pipe-regions github repo.\nEach layer is loaded into bigquery in a separate layer. The production dataset is world-fishing-827.pipe_regions_layers. For example, the WDPA layer containing all the marine MPAs is in world-fishing-827.pipe_regions_layers.WDPA_Mar_2022_Marine. All the associated fields from the original source are present in that table, so if you want to filter to a subset you could do something like WHERE status=\"Proposed\".\nSee documentation for all these layers is previous chapters of this book.",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>34</span>  <span class='chapter-title'>Point-in-polygon Test Using Regions</span>"
    ]
  },
  {
    "objectID": "files/areas-point-in-polygon-test-using-regions.html#adding-regions",
    "href": "files/areas-point-in-polygon-test-using-regions.html#adding-regions",
    "title": "34  Point-in-polygon Test Using Regions",
    "section": "34.2 Adding Regions",
    "text": "34.2 Adding Regions\nLet’s say you have a big query table full of records with positions (lat, lon) and for each position record you want to get all of the region polygons that contain the position and put that in a new big query table\nThe following query will give you a new table with all the same rows as the source_table, with one additional field called regions which is a JSON string with the ids of the containing regions.\nCREATE TEMP FUNCTION s2_level() AS (10);\nWITH\npositions as (\n  SELECT\n    *,\n  FROM `{ source_table }`\n),\nregions as (\n  SELECT\n    *,\n  FROM `{ regions_table }`\n),\ngridded_positions as (\n  SELECT\n    *,\n    S2_CELLIDFROMPOINT(geo, s2_level()) as s2_cell\n  FROM positions\n),\ngridded_regions as (\n  SELECT\n    * except(s2_cells),\n  FROM regions\n  CROSS JOIN UNNEST (s2_cells) as s2_cell\n),\ncreate_position_region_matches as (\n  SELECT\n    msgid, id, layer,\n  FROM gridded_positions p\n  JOIN gridded_regions r\n  ON p.s2_cell = r.s2_cell\n  WHERE ST_INTERSECTS(p.geo, r.geo)\n),\nposition_by_layer_by_id as (\n  SELECT\n    msgid, layer, id\n  FROM create_position_region_matches\n  GROUP BY msgid, layer, id\n),\nposition_by_layer as (\n  SELECT\n    msgid, \n    CONCAT('\"', layer, '\":' ,TO_JSON_STRING(array_agg(id))) as json_fragment\n  FROM position_by_layer_by_id\n  GROUP BY msgid, layer\n),\nposition_with_region as (\n  SELECRT\n    msgid,\n    PARSE_JSON(CONCAT( \"{\", STRING_AGG(json_fragment, \",\"), \"}\")) as regions\n  FROM position_by_layer\n  GROUP BY msgid\n),\nfull_position_with_region as (\n  SELECT\n    *\n  FROM positions\n  LEFT JOIN position_with_region\n  USING (msgid)\n)\n\nSELECT * FROM full_position_with_region",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>34</span>  <span class='chapter-title'>Point-in-polygon Test Using Regions</span>"
    ]
  },
  {
    "objectID": "files/areas-updating-layers-in-pipe_regions.html",
    "href": "files/areas-updating-layers-in-pipe_regions.html",
    "title": "35  Updating Layers in pipe_regions",
    "section": "",
    "text": "35.1 Steps\nto this\n…\nEach key of the yaml means:\nCCSBT which is the new one, and one with id CCSBT-proposed which is the old one.\nEdit this page: CCSBT\nAnd then we’re done!",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>35</span>  <span class='chapter-title'>Updating Layers in pipe_regions</span>"
    ]
  },
  {
    "objectID": "files/areas-updating-layers-in-pipe_regions.html#steps",
    "href": "files/areas-updating-layers-in-pipe_regions.html#steps",
    "title": "35  Updating Layers in pipe_regions",
    "section": "",
    "text": "get the new shapefile. We want this one. https://drive.google.com/drive/folders/17ZlvqBEaLDBsUmq-QjdPvD6ge3sNj-k1?usp=sharing . Looks like there are two versions in there, let’s look at them in QGIS\nLook at the shapefile in qgis. Check for edge cases - latitude values outside -90, 90. Lon values outside -180, 180, really big polygons that are more than 180 degrees wide, anything out of place. Might need to clip and/or split into multiple pieces. Looks like CCSBT_all_SA is one big polygon and CCSBT_SA_multi covers the same area but is split into multiple polygons. For pipe-regions, more small polygons is better than one big one, since we are going to be chopping them up into small pieces anyway.\nPack up the shapefile into a zip file with all the files at the root of the directory structure inside the zip (no subdirectories).\n\n$ ls\nCCSBT_SA_Multi.cpg  CCSBT_SA_Multi.qpj  \nCCSBT_SA_Multi.dbf  CCSBT_SA_Multi.shp\nCCSBT_SA_Multi.prj  CCSBT_SA_Multi.shx\n$ zip CCSBT_SA_Multi.shp.zip *\nupdating: CCSBT_SA_Multi.cpg (stored 0%)\nupdating: CCSBT_SA_Multi.dbf (deflated 97%)\nupdating: CCSBT_SA_Multi.prj (deflated 15%)\nupdating: CCSBT_SA_Multi.qpj (deflated 39%)\nupdating: CCSBT_SA_Multi.shp (deflated 82%)\nupdating: CCSBT_SA_Multi.shx (deflated 61%)\n$ \n\nThis will be the “normalized” version of the shapefile. In this case we don’t know where the shapefile came from originally, but if we had an original version we would store that in GCS also. Copy the zipped shapefile to GCS. Lets just use the same file as both the original and normalized version\n\n$ gsutil cp CCSBT_SA_Multi.shp.zip gs://pipe-regions-layers-us-central1/rfmo_ccsbt/original/\nCopying file://CCSBT_SA_Multi.shp.zip [Content-Type=application/zip]...\n/ [1 files][  3.7 KiB/  3.7 KiB]                                                \nOperation completed over 1 objects/3.7 KiB.                                      \n$ gsutil cp CCSBT_SA_Multi.shp.zip gs://pipe-regions-layers-us-central1/rfmo_ccsbt/\nCopying file://CCSBT_SA_Multi.shp.zip [Content-Type=application/zip]...\n/ [1 files][  3.7 KiB/  3.7 KiB]                                                \nOperation completed over 1 objects/3.7 KiB.                                      \n$\n\nNow we need to download the layers.yaml file from GCS. We download the current file using the following command:\n\ngsutil cp gs://pipe-regions-layers-us-central1/layers.yaml .\n\nWe update the layer file to point to the new shapefile. In this case, let’s keep the old layer in case we want to use it later, so let’s just rename the ID value. Editing the file layers.yaml we change from this\n\n...\n  -\n    layer_name: rfmo\n    id_value: CCSBT\n    shp_file : rfmo_ccsbt/proposedArea_CCSBT_1.shp.zip\n    doc: https://globalfishingwatch.atlassian.net/wiki/spaces/TD/pages/459833345/CCSBT\n    publish_api: True\n    pg_table: rfmo-areas\n    append_to_table: True\n\n\n...\n  -\n    layer_name: rfmo\n    id_value: CCSBT-proposed\n    shp_file : rfmo_ccsbt/proposedArea_CCSBT_1.shp.zip\n    doc: https://globalfishingwatch.atlassian.net/wiki/spaces/TD/pages/459833345/CCSBT\n    publish_api: True\n    pg_table: rfmo-areas\n    append_to_table: True\n  -\n    layer_name: rfmo\n    id_value: CCSBT\n    shp_file : rfmo_ccsbt/CCSBT_SA_Multi.shp.zip\n    doc: https://globalfishingwatch.atlassian.net/wiki/spaces/TD/pages/459833345/CCSBT\n    publish_api: True\n    pg_table: rfmo-areas\n    append_to_table: True\n  -\n\n\nlayer_name: Name of the layer. It will be used to name the layer in BQ\nid_value: This param is optional. In the case of rfmo, we need to define it because we will generate a RFMO layer using different layers. In the rest of the layers (mpa, eez, etc) is not neccesary.\nid_field: This param is optional. For the rest of the layers, with this field we define the name of the field that we will use to obtain the id of each region.\nshp_file: Path in the bucket that the shapefile exists\ndoc: Url of the doc\npublish_api: Boolean. True if you want that the process import the data in postgres\npg_table: String. Required if publish_api is true. Name of the table in postgres\nappend_to_table: Boolean. Required if publish_api is true. If false, the sql will replace the table, if not it will delete the rows with the same id of id_value and insert the new ones.\njq_query: String. Optional. This field lets to filter the original geojson file generated from the shapefile with a jq query and only import the regions filtered. Example: select(.properties.category_n == “IUCN MPA”). We use this in protected seas to only import regions with category = “IUCN MPA”\n\n\nNow we upload the file again to GCS\n\ngsutil cp layers.yaml gs://pipe-regions-layers-us-central1/layers.yaml\n\nNow it’s time to update the regions tables in bigquery. Since we only changed 2 shapefiles, we only need to update those. We could re-run all the layers, but that takes a while, so for this we will execute the command defining the –layer_names_to_ingest=rfmo . With this option we only update the rfmos layers but we will regenerate the view with all layers.\n\ndocker compose run --rm pipeline \\\n  -v \\\n  ingest_layers \\\n  --layer_list_file=layers.yaml \\\n  --gcs_root=pipe-regions-layers-us-central1 \\\n  --bq_dataset=pipe_regions_layers \\\n  --pg_instance=dataset-data-production \\\n  --pg_database=postgres \\\n  --bq_view=event_regions \\\n  --layer_names_to_ingest=rfmo  \n\nThe last step is to edit the documentation page for this layer to describe what we did. Now there are 2 versions of this layer available, one with id",
    "crumbs": [
      "Reference Data",
      "<span class='chapter-number'>35</span>  <span class='chapter-title'>Updating Layers in pipe_regions</span>"
    ]
  },
  {
    "objectID": "files/wiki-documentation-standards.html",
    "href": "files/wiki-documentation-standards.html",
    "title": "36  Wiki Documentation Standard",
    "section": "",
    "text": "36.1 Page Requirements\nEach unique wiki page describing a GFW dataset must include the below sections. For long sections, the use of sub-headers within is encouraged to improve organization.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>36</span>  <span class='chapter-title'>Wiki Documentation Standard</span>"
    ]
  },
  {
    "objectID": "files/wiki-documentation-standards.html#page-requirements",
    "href": "files/wiki-documentation-standards.html#page-requirements",
    "title": "36  Wiki Documentation Standard",
    "section": "",
    "text": "Data Overview - Short paragraph providing a high level description of the dataset\n\nThis section should include the Owner name - the GFW staff member responsible for the relevant dataset (see Data Ownership Requirements)\n\nKey Tables\n\nCurrent output table(s) and version\nTo understand what table is related to this one in the previous pipeline version, please refer to the specific version mapping page\nIn order to undertand which are the Precursor tables (when appropriate), meaning the intermediate tables used in the production of the output tables, pleae refer to Lineage tab in BQ, more information here.\n\nData Description - Detailed but concise description of the data and methods. Should be written to an analyst or advanced user but someone totally unfamiliar with the dataset. This documentation should be also in BQ, if you can’t find that this needs to be reported to the Data team.\n\nDefinition of output table - what is it, and what is it used for\nExplanation of any restrictions on the data (e.g., if there are confidence values involved, specific vessel types, etc.)\nKey fields - Specific data fields in the key tables that are particularly important (e.g. on_fishing_list_best, nnet_score, good_seg, etc.)\n\nCaveats and Known Issues - Descriptions of any important caveats, limitations, or known issues (e.g. minor bugs) to be aware of when using the data.\nExample Queries - Bulleted list of links to .sql files stored in the queries/examples/current folder of this same GitHub repo\nLinks\n\nTraining slides / loom videos / other training material on the subject (for which the owner is responsible to maintain)\nGitHub repo for data source code (if pertinent)\nLinks to related wiki pages\n\nUpdates - Dated list of updates to the key table(s).\nDifference with data in API, Data Download Portal or Map - Add links or describe what is the difference with the data in any of the public products. For example for Sentinel 2, we can link to the future DDP page.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>36</span>  <span class='chapter-title'>Wiki Documentation Standard</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html",
    "href": "files/helpful-resources.html",
    "title": "37  Helpful Resources",
    "section": "",
    "text": "37.1 Training materials",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#training-materials",
    "href": "files/helpful-resources.html#training-materials",
    "title": "37  Helpful Resources",
    "section": "",
    "text": "Bi-weekly tech call\nCode Meeting Recordings\nGFW Data Training Folder\n\nTraining Slide Decks\nShapefiles in BigQuery\nQGIS Data Training\n\nBQ Practice Queries\n2021 Fall Training Agenda with Presentation Links",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#quality-assurance",
    "href": "files/helpful-resources.html#quality-assurance",
    "title": "37  Helpful Resources",
    "section": "37.2 Quality Assurance",
    "text": "37.2 Quality Assurance\n\nProject Data QA folder\nNaming conventions DRAFT",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#gfw-tools",
    "href": "files/helpful-resources.html#gfw-tools",
    "title": "37  Helpful Resources",
    "section": "37.3 GFW tools",
    "text": "37.3 GFW tools\n\ngfwr documentation - r package to pull data from GFW’s API Portal; planned to be publicly released alongside API Portal, July 19 2022\n\nfishwatchr documentation\ngfw bubble plot tool\ngfw shiny-tools\nEEZ analysis template # External materials",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#r",
    "href": "files/helpful-resources.html#r",
    "title": "37  Helpful Resources",
    "section": "37.4 R",
    "text": "37.4 R\n\nRStudio Cheatsheets\nHands-On Programming with R\nR for Data Science\nSpatial Data Science with applications in R\nBig Book of R - Great list of R books. It is well organized categorically.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#bigquery",
    "href": "files/helpful-resources.html#bigquery",
    "title": "37  Helpful Resources",
    "section": "37.5 BigQuery",
    "text": "37.5 BigQuery\n\nBigQuery Geo Viz - to see how shapefiles in BQ look on a map\nBounding Box - to identify coordinates around area of interest",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/helpful-resources.html#qgis",
    "href": "files/helpful-resources.html#qgis",
    "title": "37  Helpful Resources",
    "section": "37.6 QGIS",
    "text": "37.6 QGIS",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>37</span>  <span class='chapter-title'>Helpful Resources</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html",
    "href": "files/data-products-page-template.html",
    "title": "38  Data Products Page Template",
    "section": "",
    "text": "38.1 Key Tables\nCurrent version + CURRENT TABLE\nPrevious version + For previous version, refer to the mapping page.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#source-tables",
    "href": "files/data-products-page-template.html#source-tables",
    "title": "38  Data Products Page Template",
    "section": "38.2 Source Tables",
    "text": "38.2 Source Tables\nIn order to undertand whatare the sources tables, we recommend you check directly in Lineage tab in Big Query , more information here. If that is not giving enough information, we can clarify manually which are the tables. + table name - context on table and how it is a source table for the Key Table + table name - context on table and how it is a source table for the Key Table",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#data-description",
    "href": "files/data-products-page-template.html#data-description",
    "title": "38  Data Products Page Template",
    "section": "38.3 Data Description",
    "text": "38.3 Data Description\n\nDescription of data. Please make sure to include what it includes, Why is this dataset important? How can it further our mission and work?",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#metadata",
    "href": "files/data-products-page-template.html#metadata",
    "title": "38  Data Products Page Template",
    "section": "38.4 Metadata",
    "text": "38.4 Metadata\n\nA summary of the source(s) of the data, including spatial resolution and satellite frequency etc.\nSensor: to be completed\nLifetime: to be completed\nWavelength/Frequency: to be completed\nPolarisation: to be completed\nResolution: to be completed\nFrame Size: to be completed\nRepeat Cycle: to be completed",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#use-cases",
    "href": "files/data-products-page-template.html#use-cases",
    "title": "38  Data Products Page Template",
    "section": "38.5 Use Cases",
    "text": "38.5 Use Cases\n\nDescribe some scenarios where this data could be applied.\nhow the date can be used with other data that we have\nwhat analysis can be conducted using the data",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#caveats-and-known-issues",
    "href": "files/data-products-page-template.html#caveats-and-known-issues",
    "title": "38  Data Products Page Template",
    "section": "38.6 Caveats and Known Issues",
    "text": "38.6 Caveats and Known Issues\n\nKnown issues as detailed as possible following a format: Title and description for each caveat.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#methodology",
    "href": "files/data-products-page-template.html#methodology",
    "title": "38  Data Products Page Template",
    "section": "38.7 Methodology",
    "text": "38.7 Methodology\n\nA step-by-step narrative explaining how the data is processed",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#code",
    "href": "files/data-products-page-template.html#code",
    "title": "38  Data Products Page Template",
    "section": "38.8 Code",
    "text": "38.8 Code\nLink to repo code. See an example here: https://globalfishingwatch.org/data-download/datasets/public-welch-et-al-disabling-events:v20221102",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#example-queries",
    "href": "files/data-products-page-template.html#example-queries",
    "title": "38  Data Products Page Template",
    "section": "43.1 Example Queries",
    "text": "43.1 Example Queries\n\nLink or copy and paste example queries",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#links",
    "href": "files/data-products-page-template.html#links",
    "title": "38  Data Products Page Template",
    "section": "43.2 Links",
    "text": "43.2 Links\n\nList of relevant links with context on use of link",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  },
  {
    "objectID": "files/data-products-page-template.html#updates",
    "href": "files/data-products-page-template.html#updates",
    "title": "38  Data Products Page Template",
    "section": "43.3 Updates",
    "text": "43.3 Updates\nLast updated on ENTER DATE\n\n[DATE] The table name update update update.",
    "crumbs": [
      "Resources",
      "<span class='chapter-number'>38</span>  <span class='chapter-title'>Data Products Page Template</span>"
    ]
  }
]